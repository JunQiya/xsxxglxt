'use strict';

<<<<<<< HEAD
=======
var callBound = require('call-bind/callBound');
var $arrayPush = callBound('Array.prototype.push');

>>>>>>> e6897d3eee7dd92889ec4638067e9f9148ca1f07
var getIteratorMethod = require('../helpers/getIteratorMethod');
var AdvanceStringIndex = require('./AdvanceStringIndex');
var GetIterator = require('./GetIterator');
var GetMethod = require('./GetMethod');
<<<<<<< HEAD
=======
var IsArray = require('./IsArray');
>>>>>>> e6897d3eee7dd92889ec4638067e9f9148ca1f07
var IteratorStep = require('./IteratorStep');
var IteratorValue = require('./IteratorValue');
var ToObject = require('./ToObject');
var ES = {
	AdvanceStringIndex: AdvanceStringIndex,
<<<<<<< HEAD
	GetMethod: GetMethod
=======
	GetMethod: GetMethod,
	IsArray: IsArray
>>>>>>> e6897d3eee7dd92889ec4638067e9f9148ca1f07
};

// https://262.ecma-international.org/7.0/#sec-iterabletoarraylike

module.exports = function IterableToArrayLike(items) {
	var usingIterator = getIteratorMethod(ES, items);
	if (typeof usingIterator !== 'undefined') {
		var iterator = GetIterator(items, usingIterator);
		var values = [];
		var next = true;
		while (next) {
			next = IteratorStep(iterator);
			if (next) {
				var nextValue = IteratorValue(next);
<<<<<<< HEAD
				values[values.length] = nextValue;
=======
				$arrayPush(values, nextValue);
>>>>>>> e6897d3eee7dd92889ec4638067e9f9148ca1f07
			}
		}
		return values;
	}

	return ToObject(items);
};
