'use strict'

let Warning = require('./warning')

class Result {
<<<<<<< HEAD
  get content() {
    return this.css
  }

=======
>>>>>>> e6897d3eee7dd92889ec4638067e9f9148ca1f07
  constructor(processor, root, opts) {
    this.processor = processor
    this.messages = []
    this.root = root
    this.opts = opts
<<<<<<< HEAD
    this.css = ''
=======
    this.css = undefined
>>>>>>> e6897d3eee7dd92889ec4638067e9f9148ca1f07
    this.map = undefined
  }

  toString() {
    return this.css
  }

  warn(text, opts = {}) {
    if (!opts.plugin) {
      if (this.lastPlugin && this.lastPlugin.postcssPlugin) {
        opts.plugin = this.lastPlugin.postcssPlugin
      }
    }

    let warning = new Warning(text, opts)
    this.messages.push(warning)

    return warning
  }

  warnings() {
    return this.messages.filter(i => i.type === 'warning')
  }
<<<<<<< HEAD
=======

  get content() {
    return this.css
  }
>>>>>>> e6897d3eee7dd92889ec4638067e9f9148ca1f07
}

module.exports = Result
Result.default = Result
