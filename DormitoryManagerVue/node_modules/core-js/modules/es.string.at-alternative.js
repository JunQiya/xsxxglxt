'use strict';
var $ = require('../internals/export');
var uncurryThis = require('../internals/function-uncurry-this');
var requireObjectCoercible = require('../internals/require-object-coercible');
var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');
var toString = require('../internals/to-string');
var fails = require('../internals/fails');

var charAt = uncurryThis(''.charAt);

var FORCED = fails(function () {
<<<<<<< HEAD
<<<<<<< HEAD
  // eslint-disable-next-line es/no-string-prototype-at -- safe
=======
  // eslint-disable-next-line es/no-array-string-prototype-at -- safe
>>>>>>> e6897d3eee7dd92889ec4638067e9f9148ca1f07
=======
  // eslint-disable-next-line es/no-array-string-prototype-at -- safe
>>>>>>> parent of 99ae58fb (修正代码，并打包成功上传部署到服务器（测试IP地址）)
  return '𠮷'.at(-2) !== '\uD842';
});

// `String.prototype.at` method
<<<<<<< HEAD
// https://tc39.es/ecma262/#sec-string.prototype.at
=======
// https://github.com/tc39/proposal-relative-indexing-method
>>>>>>> e6897d3eee7dd92889ec4638067e9f9148ca1f07
$({ target: 'String', proto: true, forced: FORCED }, {
  at: function at(index) {
    var S = toString(requireObjectCoercible(this));
    var len = S.length;
    var relativeIndex = toIntegerOrInfinity(index);
    var k = relativeIndex >= 0 ? relativeIndex : len + relativeIndex;
    return (k < 0 || k >= len) ? undefined : charAt(S, k);
  }
});
