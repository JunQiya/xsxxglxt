'use strict';
var call = require('../internals/function-call');
<<<<<<< HEAD
<<<<<<< HEAD
var uncurryThis = require('../internals/function-uncurry-this');
var fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');
var anObject = require('../internals/an-object');
var isObject = require('../internals/is-object');
=======
var fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');
var anObject = require('../internals/an-object');
var isNullOrUndefined = require('../internals/is-null-or-undefined');
>>>>>>> e6897d3eee7dd92889ec4638067e9f9148ca1f07
=======
var fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');
var anObject = require('../internals/an-object');
var isNullOrUndefined = require('../internals/is-null-or-undefined');
>>>>>>> parent of 99ae58fb (修正代码，并打包成功上传部署到服务器（测试IP地址）)
var toLength = require('../internals/to-length');
var toString = require('../internals/to-string');
var requireObjectCoercible = require('../internals/require-object-coercible');
var getMethod = require('../internals/get-method');
var advanceStringIndex = require('../internals/advance-string-index');
<<<<<<< HEAD
<<<<<<< HEAD
var getRegExpFlags = require('../internals/regexp-get-flags');
var regExpExec = require('../internals/regexp-exec-abstract');

var stringIndexOf = uncurryThis(''.indexOf);

=======
var regExpExec = require('../internals/regexp-exec-abstract');

>>>>>>> e6897d3eee7dd92889ec4638067e9f9148ca1f07
=======
var regExpExec = require('../internals/regexp-exec-abstract');

>>>>>>> parent of 99ae58fb (修正代码，并打包成功上传部署到服务器（测试IP地址）)
// @@match logic
fixRegExpWellKnownSymbolLogic('match', function (MATCH, nativeMatch, maybeCallNative) {
  return [
    // `String.prototype.match` method
    // https://tc39.es/ecma262/#sec-string.prototype.match
    function match(regexp) {
      var O = requireObjectCoercible(this);
<<<<<<< HEAD
<<<<<<< HEAD
      var matcher = isObject(regexp) ? getMethod(regexp, MATCH) : undefined;
=======
      var matcher = isNullOrUndefined(regexp) ? undefined : getMethod(regexp, MATCH);
>>>>>>> e6897d3eee7dd92889ec4638067e9f9148ca1f07
=======
      var matcher = isNullOrUndefined(regexp) ? undefined : getMethod(regexp, MATCH);
>>>>>>> parent of 99ae58fb (修正代码，并打包成功上传部署到服务器（测试IP地址）)
      return matcher ? call(matcher, regexp, O) : new RegExp(regexp)[MATCH](toString(O));
    },
    // `RegExp.prototype[@@match]` method
    // https://tc39.es/ecma262/#sec-regexp.prototype-@@match
    function (string) {
      var rx = anObject(this);
      var S = toString(string);
      var res = maybeCallNative(nativeMatch, rx, S);

      if (res.done) return res.value;

<<<<<<< HEAD
<<<<<<< HEAD
      var flags = toString(getRegExpFlags(rx));

      if (stringIndexOf(flags, 'g') === -1) return regExpExec(rx, S);

      var fullUnicode = stringIndexOf(flags, 'u') !== -1;
=======
      if (!rx.global) return regExpExec(rx, S);

      var fullUnicode = rx.unicode;
>>>>>>> e6897d3eee7dd92889ec4638067e9f9148ca1f07
=======
      if (!rx.global) return regExpExec(rx, S);

      var fullUnicode = rx.unicode;
>>>>>>> parent of 99ae58fb (修正代码，并打包成功上传部署到服务器（测试IP地址）)
      rx.lastIndex = 0;
      var A = [];
      var n = 0;
      var result;
      while ((result = regExpExec(rx, S)) !== null) {
        var matchStr = toString(result[0]);
        A[n] = matchStr;
        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);
        n++;
      }
      return n === 0 ? null : A;
    }
  ];
});
