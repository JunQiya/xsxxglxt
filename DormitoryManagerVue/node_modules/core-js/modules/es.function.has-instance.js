'use strict';
var isCallable = require('../internals/is-callable');
var isObject = require('../internals/is-object');
var definePropertyModule = require('../internals/object-define-property');
<<<<<<< HEAD
var isPrototypeOf = require('../internals/object-is-prototype-of');
=======
var getPrototypeOf = require('../internals/object-get-prototype-of');
>>>>>>> e6897d3eee7dd92889ec4638067e9f9148ca1f07
var wellKnownSymbol = require('../internals/well-known-symbol');
var makeBuiltIn = require('../internals/make-built-in');

var HAS_INSTANCE = wellKnownSymbol('hasInstance');
var FunctionPrototype = Function.prototype;

// `Function.prototype[@@hasInstance]` method
// https://tc39.es/ecma262/#sec-function.prototype-@@hasinstance
if (!(HAS_INSTANCE in FunctionPrototype)) {
  definePropertyModule.f(FunctionPrototype, HAS_INSTANCE, { value: makeBuiltIn(function (O) {
    if (!isCallable(this) || !isObject(O)) return false;
    var P = this.prototype;
<<<<<<< HEAD
    return isObject(P) ? isPrototypeOf(P, O) : O instanceof this;
=======
    if (!isObject(P)) return O instanceof this;
    // for environment w/o native `@@hasInstance` logic enough `instanceof`, but add this:
    while (O = getPrototypeOf(O)) if (P === O) return true;
    return false;
>>>>>>> e6897d3eee7dd92889ec4638067e9f9148ca1f07
  }, HAS_INSTANCE) });
}
