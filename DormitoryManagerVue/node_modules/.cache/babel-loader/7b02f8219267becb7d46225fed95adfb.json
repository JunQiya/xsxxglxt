{"remainingRequest":"G:\\2025072398-学生系统管理平台参赛总文件夹\\2025072398-02 素材与源码\\学生系统管理平台\\DormitoryManagerVue\\DormitoryManagerVue\\node_modules\\babel-loader\\lib\\index.js!G:\\2025072398-学生系统管理平台参赛总文件夹\\2025072398-02 素材与源码\\学生系统管理平台\\DormitoryManagerVue\\DormitoryManagerVue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!G:\\2025072398-学生系统管理平台参赛总文件夹\\2025072398-02 素材与源码\\学生系统管理平台\\DormitoryManagerVue\\DormitoryManagerVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\2025072398-学生系统管理平台参赛总文件夹\\2025072398-02 素材与源码\\学生系统管理平台\\DormitoryManagerVue\\DormitoryManagerVue\\src\\views\\manage\\repair\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"G:\\2025072398-学生系统管理平台参赛总文件夹\\2025072398-02 素材与源码\\学生系统管理平台\\DormitoryManagerVue\\DormitoryManagerVue\\src\\views\\manage\\repair\\index.vue","mtime":1698661178000},{"path":"G:\\2025072398-学生系统管理平台参赛总文件夹\\2025072398-02 素材与源码\\学生系统管理平台\\DormitoryManagerVue\\DormitoryManagerVue\\babel.config.js","mtime":1626253806000},{"path":"G:\\2025072398-学生系统管理平台参赛总文件夹\\2025072398-02 素材与源码\\学生系统管理平台\\DormitoryManagerVue\\DormitoryManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1762330398085},{"path":"G:\\2025072398-学生系统管理平台参赛总文件夹\\2025072398-02 素材与源码\\学生系统管理平台\\DormitoryManagerVue\\DormitoryManagerVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1762330415881},{"path":"G:\\2025072398-学生系统管理平台参赛总文件夹\\2025072398-02 素材与源码\\学生系统管理平台\\DormitoryManagerVue\\DormitoryManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1762330398085},{"path":"G:\\2025072398-学生系统管理平台参赛总文件夹\\2025072398-02 素材与源码\\学生系统管理平台\\DormitoryManagerVue\\DormitoryManagerVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1762330415853}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCB7IGxpc3QsIHF1ZXJ5LCBzYXZlT3JVcGRhdGUsIGRlbCwgdXBkYXRlU3RhdHVzIH0gZnJvbSAiQC9hcGkvcmVwYWlyIjsKaW1wb3J0IHsgbGlzdEFsbCBhcyBsaXN0Um9vbXMgfSBmcm9tICJAL2FwaS9yb29tIjsKaW1wb3J0IGltYWdlc1VwbG9hZCBmcm9tICIuL2NvbXBvbmVudHMvaW1hZ2VzVXBsb2FkIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJpbmRleCIsCiAgY29tcG9uZW50czogewogICAgaW1hZ2VzVXBsb2FkCiAgfSwKICBtZXRob2RzOiB7CiAgICBjb25maXJtKGhvb2spIHsKICAgICAgdGhpcy4kY29uZmlybSgi5piv5ZCm56Gu5a6aIiwgIuitpuWRiiIsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oaG9vayk7CiAgICB9LAogICAgdXBkYXRlU3RhdHVzKGlkKSB7CiAgICAgIHRoaXMuY29uZmlybSgoKSA9PiB7CiAgICAgICAgdXBkYXRlU3RhdHVzKGlkKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICBpZiAocmVzLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1zZwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy5saXN0RGF0YSgpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBkZWwoaWQpIHsKICAgICAgdGhpcy5jb25maXJtKCgpID0+IHsKICAgICAgICBkZWwoaWQpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIGlmIChyZXMuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICBtZXNzYWdlOiByZXMubXNnCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGlzLmxpc3REYXRhKCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIHNhdmVPclVwZGF0ZSgpIHsKICAgICAgY29uc3QgX3RoaXMgPSB0aGlzOwogICAgICB0aGlzLiRyZWZzWydzYXZlT3JVcGRhdGVGb3JtJ10udmFsaWRhdGUodmFsaWQgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgc2F2ZU9yVXBkYXRlKHRoaXMucmVjb3JkKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXMubXNnLAogICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgX3RoaXMuaGFuZGxlQ2xvc2UoKTsKICAgICAgICAgICAgICBfdGhpcy5saXN0RGF0YSgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICfor7fmraPnoa7loavlhpnlj4LmlbAnLAogICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIG9uUGljdHVyZUNoYW5nZShpbWFnZXMpIHsKICAgICAgdGhpcy5yZWNvcmQucGljdHVyZSA9IGltYWdlczsKICAgIH0sCiAgICBhc3luYyBzaG93RGlhbG9nKGlkKSB7CiAgICAgIHRoaXMuZGlhbG9nVGl0bGUgPSAn5re75YqgJzsKICAgICAgaWYgKGlkKSB7CiAgICAgICAgY29uc3QgewogICAgICAgICAgZGF0YQogICAgICAgIH0gPSBhd2FpdCBxdWVyeShpZCk7CiAgICAgICAgdGhpcy5kaWFsb2dUaXRsZSA9ICfor6bmg4UnOwogICAgICAgIGlmIChkYXRhKSB7CiAgICAgICAgICB0aGlzLnJlY29yZCA9IGRhdGE7CiAgICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICB9CiAgICAgIHRoaXMuZGVzdHJveSA9IGZhbHNlOwogICAgICBhd2FpdCB0aGlzLmdldFJvb21MaXN0KHRydWUpOwogICAgfSwKICAgIGhhbmRsZUNsb3NlKCkgewogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgICAgdGhpcy5kZXN0cm95ID0gdHJ1ZTsKICAgICAgdGhpcy5yb29tTGlzdCA9IFtdOwogICAgICB0aGlzLnJlY29yZCA9IHsKICAgICAgICBpZDogdW5kZWZpbmVkLAogICAgICAgIHJvb21JZDogdW5kZWZpbmVkLAogICAgICAgIHJvb206IHVuZGVmaW5lZCwKICAgICAgICBkZXNjcmliZTogdW5kZWZpbmVkLAogICAgICAgIHBpY3R1cmU6IHVuZGVmaW5lZCwKICAgICAgICBzdGF0dXM6IHVuZGVmaW5lZCwKICAgICAgICBjcmVhdGVEYXRlOiB1bmRlZmluZWQsCiAgICAgICAgZmluaXNoRGF0ZTogdW5kZWZpbmVkCiAgICAgIH07CiAgICAgIHRoaXMuJHJlZnNbJ3NhdmVPclVwZGF0ZUZvcm0nXS5yZXNldEZpZWxkcygpOwogICAgfSwKICAgIGFzeW5jIGxpc3REYXRhKCkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICBjb25zdCB7CiAgICAgICAgZGF0YQogICAgICB9ID0gYXdhaXQgbGlzdCh0aGlzLmxpc3RRdWVyeSk7CiAgICAgIHRoaXMucGFnZUluZm8gPSBkYXRhOwogICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgIH0sCiAgICBhc3luYyBnZXRSb29tTGlzdCh2KSB7CiAgICAgIGlmICh2KSB7CiAgICAgICAgY29uc3QgewogICAgICAgICAgZGF0YQogICAgICAgIH0gPSBhd2FpdCBsaXN0Um9vbXMoKTsKICAgICAgICB0aGlzLnJvb21MaXN0ID0gZGF0YTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnJvb21MaXN0ID0gW107CiAgICAgIH0KICAgIH0sCiAgICBzZWxlY3QoKSB7CiAgICAgIHRoaXMubGlzdFF1ZXJ5LnBhZ2UgPSAxOwogICAgICB0aGlzLmxpc3REYXRhKCk7CiAgICB9LAogICAgcmVzZXQoKSB7CiAgICAgIHRoaXMucm9vbUxpc3QgPSBbXTsKICAgICAgdGhpcy5saXN0UXVlcnkuZW50aXR5ID0ge307CiAgICAgIHRoaXMuc2VsZWN0KCk7CiAgICB9LAogICAgdmlld1BpYyhwaWMpIHsKICAgICAgdGhpcy5waWN0dXJlTGlzdCA9IFtdOwogICAgICBmb3IgKGxldCBwIG9mIHBpYykgewogICAgICAgIHRoaXMucGljdHVyZUxpc3QucHVzaChwcm9jZXNzLmVudi5WVUVfQVBQX0lNR19QUkVGSVggKyBwKTsKICAgICAgfQogICAgICB0aGlzLnBpY3R1cmVWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICBoYW5kbGVQaWN0dXJlRGlhbG9nQ2xvc2UoKSB7CiAgICAgIHRoaXMucGljdHVyZUxpc3QgPSBbXTsKICAgICAgdGhpcy5waWN0dXJlVmlzaWJsZSA9IGZhbHNlOwogICAgfSwKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMubGlzdFF1ZXJ5LnBhZ2UgPSB2YWw7CiAgICAgIHRoaXMubGlzdERhdGEoKTsKICAgIH0sCiAgICBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgewogICAgICB0aGlzLmxpc3RRdWVyeS5yb3dzID0gdmFsOwogICAgICB0aGlzLmxpc3REYXRhKCk7CiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGlzdFF1ZXJ5OiB7CiAgICAgICAgcGFnZTogMSwKICAgICAgICByb3dzOiAxMCwKICAgICAgICBlbnRpdHk6IHt9CiAgICAgIH0sCiAgICAgIHBhZ2VJbmZvOiB7fSwKICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGRpYWxvZ1RpdGxlOiAnJywKICAgICAgcmVjb3JkOiB7CiAgICAgICAgaWQ6IHVuZGVmaW5lZCwKICAgICAgICByb29tSWQ6IHVuZGVmaW5lZCwKICAgICAgICByb29tOiB1bmRlZmluZWQsCiAgICAgICAgZGVzY3JpYmU6IHVuZGVmaW5lZCwKICAgICAgICBwaWN0dXJlOiB1bmRlZmluZWQsCiAgICAgICAgc3RhdHVzOiB1bmRlZmluZWQsCiAgICAgICAgY3JlYXRlRGF0ZTogdW5kZWZpbmVkLAogICAgICAgIGZpbmlzaERhdGU6IHVuZGVmaW5lZAogICAgICB9LAogICAgICByb29tTGlzdDogW10sCiAgICAgIHBpY3R1cmVMaXN0OiBbXSwKICAgICAgcGljdHVyZVZpc2libGU6IGZhbHNlLAogICAgICBkZXN0cm95OiB0cnVlLAogICAgICAvL+mUgOavgee7hOS7tgogICAgICBydWxlczogewogICAgICAgIHJvb21JZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+WvneWupOS4jeiDveS4uuepuicsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBkZXNjcmliZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+aPj+i/sOS4jeiDveS4uuepuicsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9CiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMubGlzdERhdGEoKTsKICB9Cn07"},{"version":3,"names":["list","query","saveOrUpdate","del","updateStatus","listAll","listRooms","imagesUpload","name","components","methods","confirm","hook","$confirm","confirmButtonText","cancelButtonText","type","then","id","res","statusCode","$message","message","msg","listData","_this","$refs","validate","valid","record","handleClose","onPictureChange","images","picture","showDialog","dialogTitle","data","dialogVisible","destroy","getRoomList","roomList","undefined","roomId","room","describe","status","createDate","finishDate","resetFields","loading","listQuery","pageInfo","v","select","page","reset","entity","viewPic","pic","pictureList","p","push","process","env","VUE_APP_IMG_PREFIX","pictureVisible","handlePictureDialogClose","handleCurrentChange","val","handleSizeChange","rows","rules","required","trigger","created"],"sources":["src/views/manage/repair/index.vue"],"sourcesContent":["<template>\n  <div class=\"router-container\">\n    <div class=\"container\">\n      <div class=\"inner_container\">\n        <div class=\"table\">\n          <el-form :inline=\"true\" ref=\"form\" :model=\"listQuery.entity\">\n            <el-form-item label=\"寝室\" v-has-permi=\"['room:list']\">\n              <el-select filterable clearable v-model=\"listQuery.entity.roomId\" size=\"small\"\n                         placeholder=\"寝室\" @visible-change=\"getRoomList\">\n                <el-option v-for=\"item in roomList\" :key=\"item.id\" :label=\"item.number\" :value=\"item.id\"></el-option>\n              </el-select>\n            </el-form-item>\n            <el-form-item label=\"维修状态\">\n              <el-select clearable v-model=\"listQuery.entity.status\" size=\"small\"\n                         placeholder=\"维修状态\">\n                <el-option label=\"完成\" :value=\"true\"></el-option>\n                <el-option label=\"未完成\" :value=\"false\"></el-option>\n              </el-select>\n            </el-form-item>\n            <el-form-item label=\"创建时间\">\n              <el-date-picker\n                  value-format=\"yyyy-MM-dd\"\n                  v-model=\"listQuery.entity.createDate\"\n                  type=\"date\" size=\"small\"\n                  placeholder=\"选择日期\">\n              </el-date-picker>\n            </el-form-item>\n            <el-form-item>\n              <el-button style=\"font-size: 16px;\"  type=\"primary\" @click=\"select\"> 查询</el-button>\n              <el-button style=\"font-size: 16px;\"  type=\"warning\" @click=\"reset\"> 重置</el-button>\n              <el-button style=\"font-size: 16px;\"  type=\"success\" v-has-permi=\"['repair:save']\" @click=\"showDialog(undefined)\"> 新增</el-button>\n            </el-form-item>\n          </el-form>\n          <el-table :data=\"pageInfo.list\" v-loading=\"loading\" height=\"405\">\n            <el-table-column prop=\"room.number\" label=\"寝室号\" width=\"150\"></el-table-column>\n            <el-table-column prop=\"describe\" :show-tooltip-when-overflow=\"true\" label=\"描述\" width=\"200\"></el-table-column>\n            <el-table-column label=\"创建时间\" prop=\"createDate\"></el-table-column>\n            <el-table-column label=\"状态\">\n              <template slot-scope=\"scope\">\n                <span style=\"color: #67C23A\" v-if=\"scope.row.status\">已完成</span>\n                <span style=\"color: #909399\" v-else>未完成</span>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"图片\" width=\"210\">\n              <template slot-scope=\"scope\">\n                <span v-if=\"scope.row.picture.length === 0\">无</span>\n                <span v-else>\n                  <el-button type=\"text\" @click=\"viewPic(scope.row.picture)\">查看图片</el-button>\n                </span>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"完成时间\" prop=\"finishDate\"></el-table-column>\n            <el-table-column label=\"操作\" width=\"420\" fixed=\"right\">\n              <template slot-scope=\"scope\">\n                <el-button type=\"primary\" style=\"font-size: 14px;\"  v-has-permi=\"['repair:query']\" @click=\"showDialog(scope.row.id)\"> 详情</el-button>\n                <el-button type=\"danger\" style=\"font-size: 14px;\"  v-has-permi=\"['repair:delete']\" @click=\"del(scope.row.id)\"> 删除</el-button>\n                <el-button type=\"success\" style=\"font-size: 14px;\" \n                           v-has-permi=\"['repair:update']\"\n                           @click=\"updateStatus(scope.row.id)\"\n                           :disabled=\"scope.row.status\"\n                > 确定完成</el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n        </div>\n        <div class=\"page\">\n          <el-pagination\n              background\n              :page-size=\"listQuery.rows\"\n              :page-count=\"pageInfo.pages\"\n              layout=\"->, prev, pager, next, jumper, total, sizes\"\n              :total=\"pageInfo.total\"\n              :current-page.sync=\"pageInfo.pageNum\"\n              @current-change=\"handleCurrentChange\"\n              @size-change=\"handleSizeChange\"\n          >\n          </el-pagination>\n        </div>\n        <div class=\"dialog\">\n          <el-dialog :title=\"dialogTitle\"\n                     width=\"45%\"\n                     :visible.sync=\"dialogVisible\"\n                     @closed=\"handleClose\">\n\n            <el-form :model=\"record\" ref=\"saveOrUpdateForm\" label-width=\"80px\" :rules=\"rules\">\n              <el-form-item label=\"寝室号\" prop=\"roomId\">\n                <el-select filterable clearable v-model=\"record.roomId\" size=\"small\"\n                           placeholder=\"寝室\" @visible-change=\"getRoomList\">\n                  <el-option v-for=\"item in roomList\" :key=\"item.id\" :label=\"item.number\" :value=\"item.id\"></el-option>\n                </el-select>\n              </el-form-item>\n              <el-form-item label=\"描述\" prop=\"describe\">\n                <el-input type=\"textarea\" v-model=\"record.describe\" rows=\"5\" placeholder=\"输入描述内容\"></el-input>\n              </el-form-item>\n              <el-form-item label=\"图片\">\n                <images-upload v-if=\"!destroy\" :images=\"record.picture\" @onChange=\"onPictureChange\"></images-upload>\n              </el-form-item>\n            </el-form>\n            <span slot=\"footer\" class=\"dialog-footer\">\n                            <el-button type=\"danger\" @click=\"handleClose\"> 取 消</el-button>\n                            <el-button type=\"primary\" @click=\"saveOrUpdate\" :disabled=\"record.status\"> 保 存</el-button>\n                          </span>\n          </el-dialog>\n\n\n          <el-dialog title=\"查看图片\" :visible.sync=\"pictureVisible\" width=\"40%\" @closed=\"handlePictureDialogClose\">\n            <el-image v-for=\"p in pictureList\" :key=\"p\"\n                style=\"width: 100px; height: 100px; margin-left: 5px\"\n                :src=\"p\"\n                :preview-src-list=\"pictureList\">\n            </el-image>\n          </el-dialog>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {list, query, saveOrUpdate, del, updateStatus} from \"@/api/repair\";\nimport {listAll as listRooms} from \"@/api/room\";\nimport imagesUpload from \"./components/imagesUpload\";\nexport default {\n  name: \"index\",\n  components: {\n    imagesUpload\n  },\n  methods: {\n    confirm(hook) {\n      this.$confirm(\"是否确定\", \"警告\", {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(hook)\n    },\n    updateStatus(id) {\n      this.confirm(() => {\n        updateStatus(id).then((res) => {\n          if (res.statusCode === 200) {\n            this.$message({\n              type: 'success',\n              message: res.msg\n            });\n            this.listData()\n          }\n        })\n      })\n    },\n    del(id) {\n      this.confirm(() => {\n        del(id).then((res) => {\n          if (res.statusCode === 200) {\n            this.$message({\n              type: 'success',\n              message: res.msg\n            });\n            this.listData()\n          }\n        })\n      })\n    },\n    saveOrUpdate() {\n      const _this = this\n      this.$refs['saveOrUpdateForm'].validate((valid) => {\n        if (valid) {\n          saveOrUpdate(this.record).then(res => {\n            if (res.statusCode === 200) {\n              this.$message({\n                message: res.msg,\n                type: 'success'\n              });\n              _this.handleClose()\n              _this.listData()\n            }\n          })\n        } else {\n          this.$message({\n            message: '请正确填写参数',\n            type: 'error'\n          });\n          return false;\n        }\n      })\n    },\n    onPictureChange(images) {\n      this.record.picture = images\n    },\n    async showDialog(id) {\n      this.dialogTitle = '添加'\n      if (id) {\n        const {data} = await query(id)\n        this.dialogTitle = '详情'\n        if (data) {\n          this.record = data\n          this.dialogVisible = true\n        }\n      } else {\n        this.dialogVisible = true\n      }\n      this.destroy = false\n      await this.getRoomList(true)\n    },\n    handleClose() {\n      this.dialogVisible = false\n      this.destroy = true\n      this.roomList = []\n      this.record = {\n        id: undefined,\n        roomId: undefined,\n        room: undefined,\n        describe: undefined,\n        picture: undefined,\n        status: undefined,\n        createDate: undefined,\n        finishDate: undefined\n      }\n      this.$refs['saveOrUpdateForm'].resetFields()\n    },\n    async listData() {\n      this.loading = true\n      const {data} = await list(this.listQuery)\n      this.pageInfo = data\n      this.loading = false\n    },\n    async getRoomList(v) {\n      if (v) {\n        const {data} = await listRooms()\n        this.roomList = data\n      } else {\n        this.roomList = []\n      }\n    },\n    select() {\n      this.listQuery.page = 1\n      this.listData()\n    },\n    reset() {\n      this.roomList = []\n      this.listQuery.entity = {}\n      this.select()\n    },\n    viewPic(pic) {\n      this.pictureList = []\n      for (let p of pic) {\n        this.pictureList.push(process.env.VUE_APP_IMG_PREFIX + p)\n      }\n      this.pictureVisible = true\n    },\n    handlePictureDialogClose() {\n      this.pictureList = []\n      this.pictureVisible = false\n    },\n    handleCurrentChange(val) {\n      this.listQuery.page = val\n      this.listData()\n    },\n    handleSizeChange(val) {\n      this.listQuery.rows = val\n      this.listData()\n    },\n  },\n  data () {\n    return {\n      listQuery:{\n        page: 1,\n        rows: 10,\n        entity: {}\n      },\n      pageInfo: {},\n      loading: true,\n      dialogVisible: false,\n      dialogTitle: '',\n      record:{\n        id: undefined,\n        roomId: undefined,\n        room: undefined,\n        describe: undefined,\n        picture: undefined,\n        status: undefined,\n        createDate: undefined,\n        finishDate: undefined\n      },\n      roomList: [],\n      pictureList: [],\n      pictureVisible: false,\n      destroy: true, //销毁组件\n      rules: {\n        roomId: [\n          {required: true, message: '寝室不能为空', trigger: 'blur'}\n        ],\n        describe: [\n          {required: true, message: '描述不能为空', trigger: 'blur'}\n        ]\n      }\n    }\n  },\n  created() {\n    this.listData()\n  }\n}\n</script>\n\n<style scoped>\n.table {\n  padding: 30px;\n}\n</style>\n"],"mappings":"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","ignoreList":[]}]}