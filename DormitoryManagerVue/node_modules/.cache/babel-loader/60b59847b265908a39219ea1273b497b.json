{"remainingRequest":"G:\\学生宿舍信息综合管理与服务平台\\DormitoryManagerVue\\node_modules\\babel-loader\\lib\\index.js!G:\\学生宿舍信息综合管理与服务平台\\DormitoryManagerVue\\src\\utils\\request.js","dependencies":[{"path":"G:\\学生宿舍信息综合管理与服务平台\\DormitoryManagerVue\\src\\utils\\request.js","mtime":1626253806000},{"path":"G:\\学生宿舍信息综合管理与服务平台\\DormitoryManagerVue\\babel.config.js","mtime":1626253806000},{"path":"G:\\学生宿舍信息综合管理与服务平台\\DormitoryManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678020084000},{"path":"G:\\学生宿舍信息综合管理与服务平台\\DormitoryManagerVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1678020086000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgeyBnZXRUb2tlbiwgcmVtb3ZlVG9rZW4gfSBmcm9tICdAL3V0aWxzL2F1dGgnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgeyBNZXNzYWdlLCBNZXNzYWdlQm94IH0gZnJvbSAnZWxlbWVudC11aSc7CmltcG9ydCBzdG9yZSBmcm9tICJAL3N0b3JlIjsKY29uc3Qgc2VydmljZSA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFX0FQSSwKICB0aW1lb3V0OiAxMDAwMAp9KTsKLy8gcmVxdWVzdOaLpuaIquWZqApzZXJ2aWNlLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShhc3luYyBjb25maWcgPT4gewogIGxldCB0b2tlbiA9IGdldFRva2VuKCk7CiAgaWYgKHRva2VuKSB7CiAgICBjb25maWcuaGVhZGVyc1snX3V0J10gPSB0b2tlbjsKICB9CiAgcmV0dXJuIGNvbmZpZzsKfSwgZXJyb3IgPT4gewogIGNvbnNvbGUubG9nKGVycm9yKTsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKLy9yZXNwb25zZSDmi6bmiKrlmagKc2VydmljZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKHJlc3BvbnNlID0+IHsKICBjb25zdCByZXMgPSByZXNwb25zZS5kYXRhOwogIGlmIChyZXMuc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICByZXR1cm4gcmVzOwogIH0gZWxzZSB7CiAgICBpZiAocmVzLnN0YXR1c0NvZGUgPT09IDQwNykgewogICAgICBpZiAoIXN0b3JlLnN0YXRlLnJlTG9naW5Db25maXJtKSB7CiAgICAgICAgTWVzc2FnZUJveC5jb25maXJtKCfnmbvlvZXov4fmnJ8s6K+36YeN5paw55m75b2VJywgJ+ehruiupOmAgOWHuicsIHsKICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn6YeN5paw55m75b2VJywKICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgcmVtb3ZlVG9rZW4oKTsKICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgIH0pOwogICAgICAgIHN0b3JlLmNvbW1pdCgiU0VUX1JFX0xPR0lOX0NPTUZJUk0iKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBNZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tc2csCiAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIE1lc3NhZ2UoewogICAgICAgIG1lc3NhZ2U6IHJlcy5tc2cgfHwgJ0Vycm9yJywKICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgIGR1cmF0aW9uOiA0ICogMTAwMAogICAgICB9KTsKICAgIH0KICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEVycm9yKHJlcy5tc2cgfHwgJ0Vycm9yJykpOwogIH0KfSwgZXJyb3IgPT4gewogIE1lc3NhZ2UoewogICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB8fCAiRXJyb3IiLAogICAgdHlwZTogJ2Vycm9yJywKICAgIGR1cmF0aW9uOiA0ICogMTAwMAogIH0pOwogIHJldHVybiBQcm9taXNlLnJlc29sdmUoZXJyb3IpOwp9KTsKZXhwb3J0IGRlZmF1bHQgc2VydmljZTs="},{"version":3,"names":["getToken","removeToken","axios","Message","MessageBox","store","service","create","baseURL","process","env","VUE_APP_BASE_API","timeout","interceptors","request","use","config","token","headers","error","console","log","Promise","reject","response","res","data","statusCode","state","reLoginConfirm","confirm","confirmButtonText","type","then","location","reload","commit","message","msg","duration","resolve","Error"],"sources":["G:/学生宿舍信息综合管理与服务平台/DormitoryManagerVue/src/utils/request.js"],"sourcesContent":["import {getToken, removeToken} from '@/utils/auth'\nimport axios from 'axios'\nimport {Message, MessageBox} from 'element-ui'\nimport store from \"@/store\";\n\nconst service = axios.create({\n    baseURL: process.env.VUE_APP_BASE_API,\n    timeout: 10000\n})\n// request拦截器\nservice.interceptors.request.use(\n    async config => {\n        let token = getToken()\n        if (token) {\n            config.headers['_ut'] = token\n        }\n        return config\n    },\n    error => {\n        console.log(error)\n        return Promise.reject(error)\n    }\n)\n//response 拦截器\nservice.interceptors.response.use(\n    response => {\n        const res = response.data\n        if (res.statusCode === 200) {\n            return res\n        } else {\n            if (res.statusCode === 407) {\n                if (!store.state.reLoginConfirm) {\n                    MessageBox.confirm('登录过期,请重新登录', '确认退出', {\n                        confirmButtonText: '重新登录',\n                        type: 'warning'\n                    }).then(() => {\n                        removeToken()\n                        location.reload()\n                    })\n                    store.commit(\"SET_RE_LOGIN_COMFIRM\")\n                } else {\n                    Message({\n                        message: res.msg,\n                        type: 'error'\n                    })\n                }\n            } else {\n                Message({\n                    message: res.msg || 'Error',\n                    type: 'error',\n                    duration: 4 * 1000\n                })\n            }\n            return Promise.resolve(new Error(res.msg || 'Error'))\n        }\n    },\n    error => {\n        Message({\n            message: error.message || \"Error\",\n            type: 'error',\n            duration: 4 * 1000\n        })\n        return Promise.resolve(error)\n    }\n)\n\nexport default service\n"],"mappings":";AAAA,SAAQA,QAAQ,EAAEC,WAAW,QAAO,cAAc;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAAQC,OAAO,EAAEC,UAAU,QAAO,YAAY;AAC9C,OAAOC,KAAK,MAAM,SAAS;AAE3B,MAAMC,OAAO,GAAGJ,KAAK,CAACK,MAAM,CAAC;EACzBC,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC,gBAAgB;EACrCC,OAAO,EAAE;AACb,CAAC,CAAC;AACF;AACAN,OAAO,CAACO,YAAY,CAACC,OAAO,CAACC,GAAG,CAC5B,MAAMC,MAAM,IAAI;EACZ,IAAIC,KAAK,GAAGjB,QAAQ,EAAE;EACtB,IAAIiB,KAAK,EAAE;IACPD,MAAM,CAACE,OAAO,CAAC,KAAK,CAAC,GAAGD,KAAK;EACjC;EACA,OAAOD,MAAM;AACjB,CAAC,EACDG,KAAK,IAAI;EACLC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;EAClB,OAAOG,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;AAChC,CAAC,CACJ;AACD;AACAb,OAAO,CAACO,YAAY,CAACW,QAAQ,CAACT,GAAG,CAC7BS,QAAQ,IAAI;EACR,MAAMC,GAAG,GAAGD,QAAQ,CAACE,IAAI;EACzB,IAAID,GAAG,CAACE,UAAU,KAAK,GAAG,EAAE;IACxB,OAAOF,GAAG;EACd,CAAC,MAAM;IACH,IAAIA,GAAG,CAACE,UAAU,KAAK,GAAG,EAAE;MACxB,IAAI,CAACtB,KAAK,CAACuB,KAAK,CAACC,cAAc,EAAE;QAC7BzB,UAAU,CAAC0B,OAAO,CAAC,YAAY,EAAE,MAAM,EAAE;UACrCC,iBAAiB,EAAE,MAAM;UACzBC,IAAI,EAAE;QACV,CAAC,CAAC,CAACC,IAAI,CAAC,MAAM;UACVhC,WAAW,EAAE;UACbiC,QAAQ,CAACC,MAAM,EAAE;QACrB,CAAC,CAAC;QACF9B,KAAK,CAAC+B,MAAM,CAAC,sBAAsB,CAAC;MACxC,CAAC,MAAM;QACHjC,OAAO,CAAC;UACJkC,OAAO,EAAEZ,GAAG,CAACa,GAAG;UAChBN,IAAI,EAAE;QACV,CAAC,CAAC;MACN;IACJ,CAAC,MAAM;MACH7B,OAAO,CAAC;QACJkC,OAAO,EAAEZ,GAAG,CAACa,GAAG,IAAI,OAAO;QAC3BN,IAAI,EAAE,OAAO;QACbO,QAAQ,EAAE,CAAC,GAAG;MAClB,CAAC,CAAC;IACN;IACA,OAAOjB,OAAO,CAACkB,OAAO,CAAC,IAAIC,KAAK,CAAChB,GAAG,CAACa,GAAG,IAAI,OAAO,CAAC,CAAC;EACzD;AACJ,CAAC,EACDnB,KAAK,IAAI;EACLhB,OAAO,CAAC;IACJkC,OAAO,EAAElB,KAAK,CAACkB,OAAO,IAAI,OAAO;IACjCL,IAAI,EAAE,OAAO;IACbO,QAAQ,EAAE,CAAC,GAAG;EAClB,CAAC,CAAC;EACF,OAAOjB,OAAO,CAACkB,OAAO,CAACrB,KAAK,CAAC;AACjC,CAAC,CACJ;AAED,eAAeb,OAAO"}]}