{"remainingRequest":"G:\\E\\学生宿舍信息管理系统\\xsxxpt\\DormitoryManagerVue\\node_modules\\thread-loader\\dist\\cjs.js!G:\\E\\学生宿舍信息管理系统\\xsxxpt\\DormitoryManagerVue\\node_modules\\babel-loader\\lib\\index.js!G:\\E\\学生宿舍信息管理系统\\xsxxpt\\DormitoryManagerVue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!G:\\E\\学生宿舍信息管理系统\\xsxxpt\\DormitoryManagerVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\E\\学生宿舍信息管理系统\\xsxxpt\\DormitoryManagerVue\\src\\views\\manage\\dayApplication\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"G:\\E\\学生宿舍信息管理系统\\xsxxpt\\DormitoryManagerVue\\src\\views\\manage\\dayApplication\\index.vue","mtime":1745831196712},{"path":"G:\\E\\学生宿舍信息管理系统\\xsxxpt\\DormitoryManagerVue\\babel.config.js","mtime":1626253806000},{"path":"G:\\E\\学生宿舍信息管理系统\\xsxxpt\\DormitoryManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1762330398085},{"path":"G:\\E\\学生宿舍信息管理系统\\xsxxpt\\DormitoryManagerVue\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1762330398084},{"path":"G:\\E\\学生宿舍信息管理系统\\xsxxpt\\DormitoryManagerVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1762330415881},{"path":"G:\\E\\学生宿舍信息管理系统\\xsxxpt\\DormitoryManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1762330398085},{"path":"G:\\E\\学生宿舍信息管理系统\\xsxxpt\\DormitoryManagerVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1762330415853}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLm1hcC5qcyI7CmltcG9ydCB7IGNyZWF0ZUFwcGxpY2F0aW9uLCB1cGRhdGVBcHBsaWNhdGlvbiwgdXBsb2FkRmlsZSB9IGZyb20gJ0AvYXBpL2xlYXZlQXBwbGljYXRpb24nOwppbXBvcnQgeyBsaXN0IH0gZnJvbSAnQC9hcGkvc3R1ZGVudCc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNFZGl0OiBmYWxzZSwKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIHN1Ym1pdExvYWRpbmc6IGZhbHNlLAogICAgICBzdGF0dXNNYXA6IHsKICAgICAgICBkcmFmdDogJ+iNieeovycsCiAgICAgICAgc3VibWl0dGVkOiAn5bey5o+Q5LqkJywKICAgICAgICBhcHByb3ZlZDogJ+W3suaJueWHhicsCiAgICAgICAgcmVqZWN0ZWQ6ICflt7Lmi5Lnu50nCiAgICAgIH0sCiAgICAgIGZvcm1EYXRhOiB7CiAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgc3R1ZGVudF9ubzogJycsCiAgICAgICAgc3R1ZGVudF9uYW1lOiAnJywKICAgICAgICAvLyDnu5/kuIDkvb/nlKjom4flvaLlkb3lkI0KICAgICAgICBnZW5kZXI6ICdtYWxlJywKICAgICAgICBkZXBhcnRtZW50OiAnJywKICAgICAgICBjbGFzc19uYW1lOiAnJywKICAgICAgICAvLyDnu5/kuIDkvb/nlKjom4flvaLlkb3lkI0KICAgICAgICBwaG9uZTogJycsCiAgICAgICAgcGFyZW50X25hbWU6ICcnLAogICAgICAgIC8vIOe7n+S4gOS9v+eUqOibh+W9ouWRveWQjQogICAgICAgIHBhcmVudF9waG9uZTogJycsCiAgICAgICAgLy8g57uf5LiA5L2/55So6JuH5b2i5ZG95ZCNCiAgICAgICAgYWRkcmVzczogJycsCiAgICAgICAgZW1lcmdlbmN5X2NvbnRhY3Q6ICcnLAogICAgICAgIC8vIOe7n+S4gOS9v+eUqOibh+W9ouWRveWQjQogICAgICAgIGVtZXJnZW5jeV9waG9uZTogJycsCiAgICAgICAgLy8g5re75Yqg57Sn5oCl6IGU57O75Lq655S16K+d5a2X5q61CiAgICAgICAgdGltZV9wZXJpb2Q6IFtdLAogICAgICAgIC8vIOe7n+S4gOS9v+eUqOibh+W9ouWRveWQjQogICAgICAgIGF0dGFjaG1lbnRzOiBbXSwKICAgICAgICBwYXJlbnRfb3BpbmlvbjogJycsCiAgICAgICAgLy8g57uf5LiA5L2/55So6JuH5b2i5ZG95ZCNCiAgICAgICAgcGFyZW50X2FncmVlOiAn5bey5ZCM5oSPJywKICAgICAgICAvLyDmlrDlop7lrrbplb/lkIzmhI/pgInpobnvvIzpu5jorqTlgLzkuLon5bey5ZCM5oSPJwogICAgICAgIGNvdW5zZWxvcl9zdGF0dXM6ICflvoXlrqHmoLgnLAogICAgICAgIGNvbGxlZ2Vfc3RhdHVzOiAn5b6F5a6h5qC4JywKICAgICAgICBzdHVkZW50X3NpZ25hdHVyZTogJycsCiAgICAgICAgLy8g57uf5LiA5L2/55So6JuH5b2i5ZG95ZCNCiAgICAgICAgcGFyZW50X3NpZ25hdHVyZTogJycsCiAgICAgICAgLy8g57uf5LiA5L2/55So6JuH5b2i5ZG95ZCNCiAgICAgICAgc3RhdHVzOiAnZHJhZnQnLAogICAgICAgIHJlYXNvbjogJycKICAgICAgfSwKICAgICAgcnVsZXM6IHsKICAgICAgICBzdHVkZW50X25vOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn5a2m5Y+35b+F5aGrJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0sIHsKICAgICAgICAgIHBhdHRlcm46IC9eXGR7MTF9JC8sCiAgICAgICAgICBtZXNzYWdlOiAn5a2m5Y+35b+F6aG75Li6MTHkvY3mlbDlrZcnCiAgICAgICAgfV0sCiAgICAgICAgc3R1ZGVudE5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICflp5PlkI3lv4XloasnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfSwgewogICAgICAgICAgbWluOiAyLAogICAgICAgICAgbWF4OiAxMCwKICAgICAgICAgIG1lc3NhZ2U6ICflp5PlkI3plb/luqYyLTEw5a2X56ymJwogICAgICAgIH1dLAogICAgICAgIHBob25lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn55S16K+d5b+F5aGrJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0sIHsKICAgICAgICAgIHBhdHRlcm46IC9eMVszLTldXGR7OX0kLywKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXmnInmlYjnmoTmiYvmnLrlj7fnoIEnCiAgICAgICAgfV0sCiAgICAgICAgcGFyZW50UGhvbmU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICflrrbplb/nlLXor53lv4XloasnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfSwgewogICAgICAgICAgcGF0dGVybjogL14xWzMtOV1cZHs5fSQvLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeacieaViOeahOaJi+acuuWPt+eggScKICAgICAgICB9XSwKICAgICAgICBhZGRyZXNzOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn5Zyw5Z2A5b+F5aGrJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogMTAsCiAgICAgICAgICBtZXNzYWdlOiAn5Zyw5Z2A6ZyA5a6M5pW05aGr5YaZJwogICAgICAgIH1dLAogICAgICAgIHRpbWVfcGVyaW9kOiBbewogICAgICAgICAgdmFsaWRhdG9yOiB0aGlzLnZhbGlkYXRlRGF0ZVJhbmdlLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9XSwKICAgICAgICBwYXJlbnRfb3BpbmlvbjogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+WutumVv+aEj+ingeW/heWhqycsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICByZWFzb246IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfotbDor7vljp/lm6Dlv4XloasnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgZW1lcmdlbmN5UGhvbmU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfntKfmgKXogZTns7vkurrnlLXor53lv4XloasnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfSwgewogICAgICAgICAgcGF0dGVybjogL14xWzMtOV1cZHs5fSQvLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeacieaViOeahOaJi+acuuWPt+eggScKICAgICAgICB9XQogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8vIOmpvOWzsOWRveWQjei9rOibh+W9ouWRveWQje+8iOWPjOWQkee7keWumu+8iQogICAgc3R1ZGVudElkOiB7CiAgICAgIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5mb3JtRGF0YS5zdHVkZW50X25vOwogICAgICB9LAogICAgICBzZXQodmFsdWUpIHsKICAgICAgICB0aGlzLmZvcm1EYXRhLnN0dWRlbnRfbm8gPSB2YWx1ZTsKICAgICAgfQogICAgfSwKICAgIHN0dWRlbnROYW1lOiB7CiAgICAgIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5mb3JtRGF0YS5zdHVkZW50X25hbWU7CiAgICAgIH0sCiAgICAgIHNldCh2YWx1ZSkgewogICAgICAgIHRoaXMuZm9ybURhdGEuc3R1ZGVudF9uYW1lID0gdmFsdWU7CiAgICAgIH0KICAgIH0sCiAgICBkZXBhcnRtZW50OiB7CiAgICAgIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5mb3JtRGF0YS5kZXBhcnRtZW50OwogICAgICB9LAogICAgICBzZXQodmFsdWUpIHsKICAgICAgICB0aGlzLmZvcm1EYXRhLmRlcGFydG1lbnQgPSB2YWx1ZTsKICAgICAgfQogICAgfSwKICAgIHBhcmVudENvbnRhY3Q6IHsKICAgICAgZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLmZvcm1EYXRhLmVtZXJnZW5jeV9jb250YWN0OwogICAgICB9LAogICAgICBzZXQodmFsdWUpIHsKICAgICAgICB0aGlzLmZvcm1EYXRhLmVtZXJnZW5jeV9jb250YWN0ID0gdmFsdWU7CiAgICAgIH0KICAgIH0sCiAgICBjbGFzc05hbWU6IHsKICAgICAgZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLmZvcm1EYXRhLmNsYXNzX25hbWU7CiAgICAgIH0sCiAgICAgIHNldCh2YWx1ZSkgewogICAgICAgIHRoaXMuZm9ybURhdGEuY2xhc3NfbmFtZSA9IHZhbHVlOwogICAgICB9CiAgICB9LAogICAgcGhvbmU6IHsKICAgICAgZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLmZvcm1EYXRhLnBob25lOwogICAgICB9LAogICAgICBzZXQodmFsdWUpIHsKICAgICAgICB0aGlzLmZvcm1EYXRhLnBob25lID0gdmFsdWU7CiAgICAgIH0KICAgIH0sCiAgICBwYXJlbnROYW1lOiB7CiAgICAgIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5mb3JtRGF0YS5wYXJlbnRfbmFtZTsKICAgICAgfSwKICAgICAgc2V0KHZhbHVlKSB7CiAgICAgICAgdGhpcy5mb3JtRGF0YS5wYXJlbnRfbmFtZSA9IHZhbHVlOwogICAgICB9CiAgICB9LAogICAgcGFyZW50UGhvbmU6IHsKICAgICAgZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLmZvcm1EYXRhLnBhcmVudF9waG9uZTsKICAgICAgfSwKICAgICAgc2V0KHZhbHVlKSB7CiAgICAgICAgdGhpcy5mb3JtRGF0YS5wYXJlbnRfcGhvbmUgPSB2YWx1ZTsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlQ2xvc2UoZG9uZSkgewogICAgICAvLyDmjqXmlLYgZG9uZSDlj4LmlbAKICAgICAgaWYgKHRoaXMuZm9ybURhdGEuc3RhdHVzID09PSAnZHJhZnQnKSB7CiAgICAgICAgLy8g6I2J56i/54q25oCB5YWB6K6455u05o6l5YWz6ZetCiAgICAgICAgZG9uZSgpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIOWFtuS7lueKtuaAgemcgOimgeehruiupOWFs+mXrQogICAgICAgIHRoaXMuJGNvbmZpcm0oJ+acquaPkOS6pOeahOS/ruaUueWwhuS4ouWkse+8jOehruiupOWFs+mXreWQl++8nycsICfmj5DnpLonLCB7CiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgZG9uZSgpOyAvLyDnlKjmiLfnoa7orqTlhbPpl60KICAgICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAvLyDnlKjmiLflj5bmtojlhbPpl63vvIzkuI3miafooYwgZG9uZSgpCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDml6XmnJ/ojIPlm7Tpqozor4EKICAgIHZhbGlkYXRlRGF0ZVJhbmdlKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICBpZiAoIXZhbHVlIHx8IHZhbHVlLmxlbmd0aCAhPT0gMikgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6K+36YCJ5oup5a6M5pW055qE5pe26Ze05q61JykpOwogICAgICB9IGVsc2UgaWYgKHZhbHVlWzBdID4gdmFsdWVbMV0pIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+e7k+adn+aXpeacn+S4jeiDveaXqeS6juW8gOWni+aXpeacnycpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjYWxsYmFjaygpOwogICAgICB9CiAgICB9LAogICAgYXN5bmMgdmFsaWRhdGVTdHVkZW50Tm8oKSB7CiAgICAgIGlmICghdGhpcy5mb3JtRGF0YS5zdHVkZW50X25vIHx8IHRoaXMuZm9ybURhdGEuc3R1ZGVudF9uby50cmltKCkgPT09ICcnKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBsaXN0KHsKICAgICAgICAgIGVudGl0eTogewogICAgICAgICAgICBudW1iZXI6IHRoaXMuZm9ybURhdGEuc3R1ZGVudF9ubwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmxpc3QubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfor6Xlrablj7fkuI3lrZjlnKgnKTsKICAgICAgICAgIHRoaXMuZm9ybURhdGEuc3R1ZGVudF9ubyA9ICcnOyAvLyDmuIXnqbrovpPlhaUKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc3Qgc3R1ZGVudEluZm8gPSByZXNwb25zZS5kYXRhLmxpc3RbMF07CiAgICAgICAgICAvLyDoh6rliqjloavlhYXlrabnlJ/kv6Hmga8KICAgICAgICAgIHRoaXMuZm9ybURhdGEuc3R1ZGVudE5hbWUgPSBzdHVkZW50SW5mby5uYW1lOwogICAgICAgICAgdGhpcy5mb3JtRGF0YS5jbGFzc05hbWUgPSBzdHVkZW50SW5mby5mYWN1bHR5Lm5hbWU7CiAgICAgICAgICB0aGlzLmZvcm1EYXRhLnBob25lID0gc3R1ZGVudEluZm8ucGhvbmU7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+WtpuWPt+mqjOivgeaIkOWKn++8jOW3suiHquWKqOWhq+WFheWtpueUn+S/oeaBrycpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCflrablj7fpqozor4HlpLHotKU6JywgZXJyb3IpOwogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WtpuWPt+mqjOivgeWksei0pe+8jOivt+eojeWQjumHjeivlScpOwogICAgICB9CiAgICB9LAogICAgLy8g6ZmE5Lu25aSE55CGCiAgICBhc3luYyBoYW5kbGVBdHRhY2htZW50cygpIHsKICAgICAgaWYgKHRoaXMuZm9ybURhdGEuYXR0YWNobWVudHMubGVuZ3RoID09PSAwKSByZXR1cm4gW107CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgdXBsb2FkUHJvbWlzZXMgPSB0aGlzLmZvcm1EYXRhLmF0dGFjaG1lbnRzLm1hcChhc3luYyBmaWxlID0+IHsKICAgICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlLnJhdyk7CiAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2FwcGx5X2lkJywgdGhpcy5mb3JtRGF0YS5pZCk7CiAgICAgICAgICByZXR1cm4gYXdhaXQgdXBsb2FkRmlsZShmb3JtRGF0YSk7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGF3YWl0IFByb21pc2UuYWxsKHVwbG9hZFByb21pc2VzKTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfpmYTku7bkuIrkvKDlpLHotKUnKTsKICAgICAgICB0aHJvdyBlcnJvcjsKICAgICAgfQogICAgfSwKICAgIC8vIOihqOWNlemHjee9rgogICAgcmVzZXRGb3JtKCkgewogICAgICB0aGlzLmZvcm1EYXRhID0gewogICAgICAgIGlkOiBudWxsLAogICAgICAgIHN0dWRlbnRfbm86ICcnLAogICAgICAgIHN0dWRlbnRfbmFtZTogJycsCiAgICAgICAgZ2VuZGVyOiAnbWFsZScsCiAgICAgICAgZGVwYXJ0bWVudDogJycsCiAgICAgICAgYWRkcmVzczogJycsCiAgICAgICAgZW1lcmdlbmN5X2NvbnRhY3Q6ICcnLAogICAgICAgIGVtZXJnZW5jeV9waG9uZTogJycsCiAgICAgICAgLy8g6YeN572u57Sn5oCl6IGU57O75Lq655S16K+d5a2X5q61CiAgICAgICAgdGltZV9wZXJpb2Q6IFtdLAogICAgICAgIGF0dGFjaG1lbnRzOiBbXSwKICAgICAgICBwYXJlbnRfb3BpbmlvbjogJycsCiAgICAgICAgcGFyZW50X2FncmVlOiAn5bey5ZCM5oSPJywKICAgICAgICAvLyDph43nva7lrrbplb/lkIzmhI/pgInpobkKICAgICAgICBjb3Vuc2Vsb3Jfc3RhdHVzOiAn5b6F5a6h5qC4JywKICAgICAgICBjb2xsZWdlX3N0YXR1czogJ+W+heWuoeaguCcsCiAgICAgICAgc3R1ZGVudF9zaWduYXR1cmU6ICcnLAogICAgICAgIHBhcmVudF9zaWduYXR1cmU6ICcnLAogICAgICAgIHN0YXR1czogJ2RyYWZ0JywKICAgICAgICByZWFzb246ICcnCiAgICAgIH07CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLiRyZWZzLmZvcm0uY2xlYXJWYWxpZGF0ZSgpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDnvJbovpHmqKHlvI8KICAgIGVkaXRBcHBsaWNhdGlvbihyb3cpIHsKICAgICAgdGhpcy5pc0VkaXQgPSB0cnVlOwogICAgICB0aGlzLmZvcm1EYXRhID0gewogICAgICAgIC4uLnJvdwogICAgICB9OwogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgfSwKICAgIC8vIOaPkOS6pOWkhOeQhgogICAgYXN5bmMgaGFuZGxlU3VibWl0KCkgewogICAgICB0cnkgewogICAgICAgIC8vIOWFiOi/m+ihjOihqOWNlemqjOivgQogICAgICAgIGF3YWl0IHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpOwoKICAgICAgICAvLyDmo4Dmn6VzdHVkZW50X25v5piv5ZCm5Li656m6CiAgICAgICAgaWYgKCF0aGlzLmZvcm1EYXRhLnN0dWRlbnRfbm8gfHwgdGhpcy5mb3JtRGF0YS5zdHVkZW50X25vLnRyaW0oKSA9PT0gJycpIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WtpuWPt+S4jeiDveS4uuepuicpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgLy8g5aSE55CG6ZmE5Lu25LiK5LygCiAgICAgICAgY29uc3QgYXR0YWNobWVudHMgPSBhd2FpdCB0aGlzLmhhbmRsZUF0dGFjaG1lbnRzKCk7CgogICAgICAgIC8vIOaehOmAoOivt+axguaVsOaNruaXtu+8jOehruS/neWtl+auteWQjeS4gOiHtAogICAgICAgIGNvbnN0IHJlcXVlc3REYXRhID0gewogICAgICAgICAgYXBwbHlJZDogdGhpcy5mb3JtRGF0YS5pZCwKICAgICAgICAgIHN0dWRlbnRObzogdGhpcy5mb3JtRGF0YS5zdHVkZW50X25vLAogICAgICAgICAgc3R1ZGVudE5hbWU6IHRoaXMuZm9ybURhdGEuc3R1ZGVudF9uYW1lIHx8IHRoaXMuZm9ybURhdGEuc3R1ZGVudE5hbWUsCiAgICAgICAgICBnZW5kZXI6IHRoaXMuZm9ybURhdGEuZ2VuZGVyLAogICAgICAgICAgZGVwYXJ0bWVudDogdGhpcy5mb3JtRGF0YS5kZXBhcnRtZW50LAogICAgICAgICAgY2xhc3NOYW1lOiB0aGlzLmZvcm1EYXRhLmNsYXNzX25hbWUgfHwgdGhpcy5mb3JtRGF0YS5jbGFzc05hbWUsCiAgICAgICAgICBwaG9uZTogdGhpcy5mb3JtRGF0YS5waG9uZSwKICAgICAgICAgIHBhcmVudE5hbWU6IHRoaXMuZm9ybURhdGEucGFyZW50X25hbWUgfHwgdGhpcy5mb3JtRGF0YS5wYXJlbnROYW1lLAogICAgICAgICAgcGFyZW50UGhvbmU6IHRoaXMuZm9ybURhdGEucGFyZW50X3Bob25lIHx8IHRoaXMuZm9ybURhdGEucGFyZW50UGhvbmUsCiAgICAgICAgICBhZGRyZXNzOiB0aGlzLmZvcm1EYXRhLmFkZHJlc3MsCiAgICAgICAgICBzdGFydERhdGU6IHRoaXMuZm9ybURhdGEudGltZV9wZXJpb2RbMF0gPyBuZXcgRGF0ZSh0aGlzLmZvcm1EYXRhLnRpbWVfcGVyaW9kWzBdKS50b0lTT1N0cmluZygpIDogbnVsbCwKICAgICAgICAgIGVuZERhdGU6IHRoaXMuZm9ybURhdGEudGltZV9wZXJpb2RbMV0gPyBuZXcgRGF0ZSh0aGlzLmZvcm1EYXRhLnRpbWVfcGVyaW9kWzFdKS50b0lTT1N0cmluZygpIDogbnVsbCwKICAgICAgICAgIHJlYXNvbjogdGhpcy5mb3JtRGF0YS5yZWFzb24udHJpbSgpLAogICAgICAgICAgZW1lcmdlbmN5Q29udGFjdDogdGhpcy5mb3JtRGF0YS5lbWVyZ2VuY3lfY29udGFjdCB8fCB0aGlzLmZvcm1EYXRhLmVtZXJnZW5jeUNvbnRhY3QsCiAgICAgICAgICBlbWVyZ2VuY3lQaG9uZTogdGhpcy5mb3JtRGF0YS5lbWVyZ2VuY3lfcGhvbmUsCiAgICAgICAgICAvLyDkvb/nlKhmb3JtRGF0YeS4reeahOWtl+auteWQjQogICAgICAgICAgcGFyZW50T3BpbmlvbjogdGhpcy5mb3JtRGF0YS5wYXJlbnRfb3BpbmlvbiB8fCB0aGlzLmZvcm1EYXRhLnBhcmVudE9waW5pb24sCiAgICAgICAgICBwYXJlbnRBZ3JlZTogdGhpcy5mb3JtRGF0YS5wYXJlbnRfYWdyZWUsCiAgICAgICAgICAvLyDlsIblrrbplb/lkIzmhI/pgInpobnliqDlhaXor7fmsYLmlbDmja4KICAgICAgICAgIGNvdW5zZWxvclN0YXR1czogdGhpcy5mb3JtRGF0YS5jb3Vuc2Vsb3Jfc3RhdHVzLAogICAgICAgICAgY29sbGVnZVN0YXR1czogdGhpcy5mb3JtRGF0YS5jb2xsZWdlX3N0YXR1cywKICAgICAgICAgIHN0dWRlbnRTaWduYXR1cmU6IHRoaXMuZm9ybURhdGEuc3R1ZGVudF9zaWduYXR1cmUgfHwgdGhpcy5mb3JtRGF0YS5zdHVkZW50U2lnbmF0dXJlLAogICAgICAgICAgcGFyZW50U2lnbmF0dXJlOiB0aGlzLmZvcm1EYXRhLnBhcmVudF9zaWduYXR1cmUgfHwgdGhpcy5mb3JtRGF0YS5wYXJlbnRTaWduYXR1cmUsCiAgICAgICAgICBzdGF0dXM6IHRoaXMuaXNFZGl0ID8gdGhpcy5mb3JtRGF0YS5zdGF0dXMgOiAnc3VibWl0dGVkJywKICAgICAgICAgIGNyZWF0ZVRpbWU6IG5ldyBEYXRlKCksCiAgICAgICAgICB1cGRhdGVUaW1lOiBuZXcgRGF0ZSgpLAogICAgICAgICAgaWRDYXJkUGF0aDogdGhpcy5mb3JtRGF0YS5pZF9jYXJkX3BhdGgsCiAgICAgICAgICBjb250cmFjdFBhdGg6IHRoaXMuZm9ybURhdGEuY29udHJhY3RfcGF0aCwKICAgICAgICAgIG90aGVyRmlsZVBhdGg6IHRoaXMuZm9ybURhdGEub3RoZXJfZmlsZV9wYXRoCiAgICAgICAgfTsKCiAgICAgICAgLy8g6LCD6K+V5L+h5oGvCiAgICAgICAgY29uc29sZS5sb2coJ1JlcXVlc3QgRGF0YTonLCByZXF1ZXN0RGF0YSk7CgogICAgICAgIC8vIOiwg+eUqEFQSQogICAgICAgIGlmICh0aGlzLmlzRWRpdCkgewogICAgICAgICAgYXdhaXQgdXBkYXRlQXBwbGljYXRpb24ocmVxdWVzdERhdGEpOwogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfnlLPor7flt7Lmm7TmlrAnKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjcmVhdGVBcHBsaWNhdGlvbihyZXF1ZXN0RGF0YSk7CiAgICAgICAgICBjb25zb2xlLmxvZygnQVBJIFJlc3BvbnNlOicsIHJlc3BvbnNlKTsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn55Sz6K+35bey5Yib5bu6Jyk7CiAgICAgICAgfQoKICAgICAgICAvLyDph43nva7nirbmgIEKICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgICAgICB0aGlzLmlzRWRpdCA9IGZhbHNlOwogICAgICAgIHRoaXMucmVzZXRGb3JtKCk7CiAgICAgICAgdGhpcy4kZW1pdCgncmVmcmVzaC1saXN0Jyk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgdmFyIF9lcnJvciRyZXNwb25zZTsKICAgICAgICBjb25zb2xlLmVycm9yKCfmj5DkuqTlpLHotKU6JywgZXJyb3IpOwogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+aTjeS9nOWksei0pe+8micgKyAoKChfZXJyb3IkcmVzcG9uc2UgPSBlcnJvci5yZXNwb25zZSkgPT09IG51bGwgfHwgX2Vycm9yJHJlc3BvbnNlID09PSB2b2lkIDAgfHwgKF9lcnJvciRyZXNwb25zZSA9IF9lcnJvciRyZXNwb25zZS5kYXRhKSA9PT0gbnVsbCB8fCBfZXJyb3IkcmVzcG9uc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lcnJvciRyZXNwb25zZS5tZXNzYWdlKSB8fCAn5pyq55+l6ZSZ6K+vJykpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIHRoaXMuc3VibWl0TG9hZGluZyA9IGZhbHNlOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["createApplication","updateApplication","uploadFile","list","data","isEdit","dialogVisible","submitLoading","statusMap","draft","submitted","approved","rejected","formData","id","student_no","student_name","gender","department","class_name","phone","parent_name","parent_phone","address","emergency_contact","emergency_phone","time_period","attachments","parent_opinion","parent_agree","counselor_status","college_status","student_signature","parent_signature","status","reason","rules","required","message","trigger","pattern","studentName","min","max","parentPhone","validator","validateDateRange","emergencyPhone","computed","studentId","get","set","value","parentContact","className","parentName","methods","handleClose","done","$confirm","confirmButtonText","cancelButtonText","type","then","catch","rule","callback","length","Error","validateStudentNo","trim","response","entity","number","$message","error","studentInfo","name","faculty","success","console","handleAttachments","uploadPromises","map","file","FormData","append","raw","Promise","all","resetForm","$nextTick","$refs","form","clearValidate","editApplication","row","handleSubmit","validate","requestData","applyId","studentNo","startDate","Date","toISOString","endDate","emergencyContact","parentOpinion","parentAgree","counselorStatus","collegeStatus","studentSignature","parentSignature","createTime","updateTime","idCardPath","id_card_path","contractPath","contract_path","otherFilePath","other_file_path","log","$emit","_error$response"],"sources":["src/views/manage/dayApplication/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"application-container\">\r\n    <!-- 全局操作按钮 -->\r\n    <el-button type=\"primary\" @click=\"dialogVisible = true\" class=\"action-btn\">\r\n      <i class=\"el-icon-plus\"></i> 新建申请\r\n    </el-button>\r\n\r\n    <!-- 主对话框 -->\r\n    <el-dialog title=\"大学生走读申请表\" :visible.sync=\"dialogVisible\" width=\"90%\" :before-close=\"handleClose\"\r\n      class=\"custom-dialog\">\r\n      <!-- 顶部信息栏 -->\r\n      <div class=\"header-bar\">\r\n        <span>申请编号：{{ formData.id }}</span>\r\n        <span>当前状态：{{ statusMap[formData.status] }}</span>\r\n        <el-radio-group v-model=\"formData.printType\" class=\"print-control\">\r\n          <el-radio :label=\"'preview'\">预览模式</el-radio>\r\n          <el-radio :label=\"'edit'\">编辑模式</el-radio>\r\n        </el-radio-group>\r\n      </div>\r\n\r\n      <!-- 主表单区域 -->\r\n      <el-form :model=\"formData\" :rules=\"rules\" ref=\"form\" label-width=\"150px\" class=\"main-form\">\r\n        <!-- 学生信息 -->\r\n        <el-card class=\"info-card\">\r\n          <div slot=\"header\" class=\"card-header\">\r\n            <i class=\"el-icon-user\"></i> 学生基本信息\r\n          </div>\r\n          <el-row :gutter=\"20\">\r\n            <el-col :span=\"8\">\r\n              <el-form-item label=\"学号\" prop=\"student_no\">\r\n                <el-input v-model=\"formData.student_no\" :disabled=\"formData.status !== 'draft'\"\r\n                  @blur=\"validateStudentNo\"></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"8\">\r\n              <el-form-item label=\"姓名\" prop=\"studentName\">\r\n                <el-input v-model=\"formData.studentName\"></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"8\">\r\n              <el-form-item label=\"性别\" prop=\"gender\">\r\n                <el-select v-model=\"formData.gender\">\r\n                  <el-option label=\"男\" value=\"male\"></el-option>\r\n                  <el-option label=\"女\" value=\"female\"></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-form-item label=\"所在院系\" prop=\"department\">\r\n            <el-input v-model=\"formData.department\"></el-input>\r\n          </el-form-item>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"所属班级\" prop=\"className\">\r\n              <el-input v-model=\"formData.className\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"电话\" prop=\"phone\">\r\n              <el-input v-model=\"formData.phone\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"家长姓名\" prop=\"parentName\">\r\n              <el-input v-model=\"formData.parentName\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"家长电话\" prop=\"parentPhone\">\r\n              <el-input v-model=\"formData.parentPhone\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-card>\r\n\r\n        <!-- 走读信息 -->\r\n        <el-card class=\"info-card\">\r\n          <div slot=\"header\" class=\"card-header\">\r\n            <i class=\"el-icon-location\"></i> 走读信息登记\r\n          </div>\r\n          <el-row :gutter=\"20\">\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"校外居住地址\" prop=\"address\">\r\n                <el-input type=\"textarea\" v-model=\"formData.address\"></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"紧急联系人\" prop=\"emergencyContact\">\r\n                <el-input v-model=\"formData.emergency_contact\"></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"紧急联系人电话\" prop=\"emergencyPhone\">\r\n                <el-input v-model=\"formData.emergencyPhone\"></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-form-item label=\"走读时段\" prop=\"timePeriod\">\r\n            <el-date-picker v-model=\"formData.time_period\" type=\"daterange\" range-separator=\"至\" start-placeholder=\"开始日期\"\r\n              end-placeholder=\"结束日期\"></el-date-picker>\r\n          </el-form-item>\r\n          <el-col :span=\"24\">\r\n            <el-form-item label=\"走读原因\" prop=\"reason\">\r\n              <el-input type=\"textarea\" v-model=\"formData.reason\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-card>\r\n\r\n        <!-- 审批材料 -->\r\n        <!-- <el-card class=\"info-card\">\r\n          <div slot=\"header\" class=\"card-header\">\r\n            <i class=\"el-icon-document\"></i> 申请材料\r\n          </div>\r\n          <el-upload\r\n            action=\"#\"\r\n            list-type=\"picture-card\"\r\n            :file-list=\"formData.attachments\"\r\n            :on-preview=\"handlePreview\"\r\n            :on-remove=\"handleRemove\"\r\n            :before-upload=\"beforeUpload\"\r\n            :auto-upload=\"false\"\r\n          >\r\n            <i class=\"el-icon-plus\"></i>\r\n          </el-upload>\r\n          <div slot=\"tip\" class=\"el-upload__tip\">支持上传：身份证、租房合同、房产证明</div>\r\n        </el-card> -->\r\n\r\n        <!-- 审批流程 -->\r\n        <el-card class=\"info-card\">\r\n          <div slot=\"header\" class=\"card-header\">\r\n            <i class=\"el-icon-s-custom\"></i> 审批流程\r\n          </div>\r\n\r\n          <el-form-item label=\"家长意见\" prop=\"parentOpinion\">\r\n            <el-input type=\"textarea\" v-model=\"formData.parentOpinion\" placeholder=\"请填写家长确认意见\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"家长同意\" prop=\"parentAgree\">\r\n            <el-select v-model=\"formData.parent_agree\">\r\n              <el-option label=\"已同意\" value=\"已同意\"></el-option>\r\n              <el-option label=\"已拒绝\" value=\"已拒绝\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <!-- <el-form-item label=\"辅导员审核\" prop=\"counselorStatus\">\r\n            <el-select v-model=\"formData.counselorStatus\">\r\n              <el-option label=\"待审核\" value=\"pending\"></el-option>\r\n              <el-option label=\"同意\" value=\"approved\"></el-option>\r\n              <el-option label=\"不同意\" value=\"rejected\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n                    <el-form-item label=\"二级学院审核\" prop=\"college\">\r\n            <el-select v-model=\"formData.college\">\r\n              <el-option label=\"待审核\" value=\"pending\"></el-option>\r\n              <el-option label=\"同意\" value=\"approved\"></el-option>\r\n              <el-option label=\"不同意\" value=\"rejected\"></el-option>\r\n            </el-select>\r\n          </el-form-item> -->\r\n        </el-card>\r\n\r\n        <!-- 电子签名 -->\r\n        <el-card class=\"signature-card\">\r\n          <div slot=\"header\" class=\"card-header\">\r\n            <i class=\"el-icon-edit\"></i> 电子签名\r\n          </div>\r\n          <el-row :gutter=\"20\">\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"学生签字\" prop=\"studentSignature\">\r\n                <el-input type=\"text\" v-model=\"formData.studentSignature\" placeholder=\"请在此签名\"\r\n                  class=\"signature-input\"></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"家长签字\" prop=\"parentSignature\">\r\n                <el-input type=\"text\" v-model=\"formData.parentSignature\" placeholder=\"请在此签名\"\r\n                  class=\"signature-input\"></el-input>\r\n              </el-form-item>\r\n            </el-col></el-row>\r\n        </el-card>\r\n\r\n        <!-- 备注信息 -->\r\n        <el-alert title=\"注意事项\" type=\"warning\" show-icon :closable=\"false\" class=\"notice-alert\">\r\n          <template #content>\r\n            <ul class=\"notice-list\">\r\n              <li>• 申请有效期最长不超过一学年</li>\r\n              <li>• 需提供正规租房合同复印件</li>\r\n              <li>• 紧急联系人需填写有效联系方式</li>\r\n            </ul>\r\n          </template>\r\n        </el-alert>\r\n      </el-form>\r\n\r\n      <!-- 操作按钮 -->\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"handleSubmit\" :loading=\"submitLoading\">\r\n          提交\r\n        </el-button>\r\n        <el-button @click=\"dialogVisible = false\">关闭</el-button>\r\n\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {\r\n    createApplication,\r\n    updateApplication,\r\n    uploadFile\r\n  } from '@/api/leaveApplication'\r\n  import { list } from '@/api/student'\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        isEdit: false,\r\n        dialogVisible: false,\r\n        submitLoading: false,\r\n        statusMap: {\r\n          draft: '草稿',\r\n          submitted: '已提交',\r\n          approved: '已批准',\r\n          rejected: '已拒绝'\r\n        },\r\n        formData: {\r\n          id: null,\r\n          student_no: '',\r\n          student_name: '',  // 统一使用蛇形命名\r\n          gender: 'male',\r\n          department: '',\r\n          class_name: '',    // 统一使用蛇形命名\r\n          phone: '',\r\n          parent_name: '',   // 统一使用蛇形命名\r\n          parent_phone: '',  // 统一使用蛇形命名\r\n          address: '',\r\n          emergency_contact: '',  // 统一使用蛇形命名\r\n          emergency_phone: '',    // 添加紧急联系人电话字段\r\n          time_period: [],        // 统一使用蛇形命名\r\n          attachments: [],\r\n          parent_opinion: '',  // 统一使用蛇形命名\r\n          parent_agree: '已同意',  // 新增家长同意选项，默认值为'已同意'\r\n          counselor_status: '待审核',\r\n          college_status: '待审核',\r\n          student_signature: '',  // 统一使用蛇形命名\r\n          parent_signature: '',    // 统一使用蛇形命名\r\n          status: 'draft',\r\n          reason: ''\r\n        },\r\n        rules: {\r\n          student_no: [\r\n            { required: true, message: '学号必填', trigger: 'blur' },\r\n            { pattern: /^\\d{11}$/, message: '学号必须为11位数字' }\r\n          ],\r\n          studentName: [\r\n            { required: true, message: '姓名必填', trigger: 'blur' },\r\n            { min: 2, max: 10, message: '姓名长度2-10字符' }\r\n          ],\r\n          phone: [\r\n            { required: true, message: '电话必填', trigger: 'blur' },\r\n            { pattern: /^1[3-9]\\d{9}$/, message: '请输入有效的手机号码' }\r\n          ],\r\n          parentPhone: [\r\n            { required: true, message: '家长电话必填', trigger: 'blur' },\r\n            { pattern: /^1[3-9]\\d{9}$/, message: '请输入有效的手机号码' }\r\n          ],\r\n          address: [\r\n            { required: true, message: '地址必填', trigger: 'blur' },\r\n            { min: 10, message: '地址需完整填写' }\r\n          ],\r\n          time_period: [\r\n            { validator: this.validateDateRange, trigger: 'change' }\r\n          ],\r\n          parent_opinion: [\r\n            { required: true, message: '家长意见必填', trigger: 'blur' }\r\n          ],\r\n          reason: [\r\n            { required: true, message: '走读原因必填', trigger: 'blur' }\r\n          ],\r\n          emergencyPhone: [\r\n            { required: true, message: '紧急联系人电话必填', trigger: 'blur' },\r\n            { pattern: /^1[3-9]\\d{9}$/, message: '请输入有效的手机号码' }\r\n          ],\r\n        }\r\n      }\r\n    },\r\n    computed: {\r\n      // 驼峰命名转蛇形命名（双向绑定）\r\n      studentId: {\r\n        get() { return this.formData.student_no },\r\n        set(value) { this.formData.student_no = value }\r\n      },\r\n      studentName: {\r\n        get() { return this.formData.student_name },\r\n        set(value) { this.formData.student_name = value }\r\n      },\r\n      department: {\r\n        get() { return this.formData.department },\r\n        set(value) { this.formData.department = value }\r\n      },\r\n      parentContact: {\r\n        get() { return this.formData.emergency_contact },\r\n        set(value) { this.formData.emergency_contact = value }\r\n      },\r\n      className: {\r\n        get() { return this.formData.class_name },\r\n        set(value) { this.formData.class_name = value }\r\n      },\r\n      phone: {\r\n        get() { return this.formData.phone },\r\n        set(value) { this.formData.phone = value }\r\n      },\r\n      parentName: {\r\n        get() { return this.formData.parent_name },\r\n        set(value) { this.formData.parent_name = value }\r\n      },\r\n      parentPhone: {\r\n        get() { return this.formData.parent_phone },\r\n        set(value) { this.formData.parent_phone = value }\r\n      }\r\n    },\r\n    methods: {\r\n\r\n      handleClose(done) { // 接收 done 参数\r\n        if (this.formData.status === 'draft') {\r\n          // 草稿状态允许直接关闭\r\n          done();\r\n        } else {\r\n          // 其他状态需要确认关闭\r\n          this.$confirm('未提交的修改将丢失，确认关闭吗？', '提示', {\r\n            confirmButtonText: '确定',\r\n            cancelButtonText: '取消',\r\n            type: 'warning'\r\n          }).then(() => {\r\n            done(); // 用户确认关闭\r\n          }).catch(() => {\r\n            // 用户取消关闭，不执行 done()\r\n          });\r\n        }\r\n      },\r\n      // 日期范围验证\r\n      validateDateRange(rule, value, callback) {\r\n        if (!value || value.length !== 2) {\r\n          callback(new Error('请选择完整的时间段'))\r\n        } else if (value[0] > value[1]) {\r\n          callback(new Error('结束日期不能早于开始日期'))\r\n        } else {\r\n          callback()\r\n        }\r\n      },\r\n      async validateStudentNo() {\r\n        if (!this.formData.student_no || this.formData.student_no.trim() === '') {\r\n          return\r\n        }\r\n\r\n        try {\r\n          const response = await list({ entity: { number: this.formData.student_no } })\r\n          if (response.data.list.length === 0) {\r\n            this.$message.error('该学号不存在')\r\n            this.formData.student_no = ''  // 清空输入\r\n          } else {\r\n            const studentInfo = response.data.list[0]\r\n            // 自动填充学生信息\r\n            this.formData.studentName = studentInfo.name\r\n            this.formData.className = studentInfo.faculty.name\r\n            this.formData.phone = studentInfo.phone\r\n            this.$message.success('学号验证成功，已自动填充学生信息')\r\n          }\r\n        } catch (error) {\r\n          console.error('学号验证失败:', error)\r\n          this.$message.error('学号验证失败，请稍后重试')\r\n        }\r\n      },\r\n\r\n      // 附件处理\r\n      async handleAttachments() {\r\n        if (this.formData.attachments.length === 0) return []\r\n\r\n        try {\r\n          const uploadPromises = this.formData.attachments.map(async file => {\r\n            const formData = new FormData()\r\n            formData.append('file', file.raw)\r\n            formData.append('apply_id', this.formData.id)\r\n            return await uploadFile(formData)\r\n          })\r\n\r\n          return await Promise.all(uploadPromises)\r\n        } catch (error) {\r\n          this.$message.error('附件上传失败')\r\n          throw error\r\n        }\r\n      },\r\n\r\n      // 表单重置\r\n      resetForm() {\r\n        this.formData = {\r\n          id: null,\r\n          student_no: '',\r\n          student_name: '',\r\n          gender: 'male',\r\n          department: '',\r\n          address: '',\r\n          emergency_contact: '',\r\n          emergency_phone: '',  // 重置紧急联系人电话字段\r\n          time_period: [],\r\n          attachments: [],\r\n          parent_opinion: '',\r\n          parent_agree: '已同意',  // 重置家长同意选项\r\n          counselor_status: '待审核',\r\n          college_status: '待审核',\r\n          student_signature: '',\r\n          parent_signature: '',\r\n          status: 'draft',\r\n          reason: ''\r\n        }\r\n        this.$nextTick(() => {\r\n          this.$refs.form.clearValidate()\r\n        })\r\n      },\r\n\r\n      // 编辑模式\r\n      editApplication(row) {\r\n        this.isEdit = true\r\n        this.formData = { ...row }\r\n        this.dialogVisible = true\r\n      },\r\n\r\n      // 提交处理\r\n      async handleSubmit() {\r\n        try {\r\n          // 先进行表单验证\r\n          await this.$refs.form.validate()\r\n\r\n          // 检查student_no是否为空\r\n          if (!this.formData.student_no || this.formData.student_no.trim() === '') {\r\n            this.$message.error('学号不能为空')\r\n            return\r\n          }\r\n\r\n\r\n          // 处理附件上传\r\n          const attachments = await this.handleAttachments()\r\n\r\n          // 构造请求数据时，确保字段名一致\r\n          const requestData = {\r\n            applyId: this.formData.id,\r\n            studentNo: this.formData.student_no,\r\n            studentName: this.formData.student_name || this.formData.studentName,\r\n            gender: this.formData.gender,\r\n            department: this.formData.department,\r\n            className: this.formData.class_name || this.formData.className,\r\n            phone: this.formData.phone,\r\n            parentName: this.formData.parent_name || this.formData.parentName,\r\n            parentPhone: this.formData.parent_phone || this.formData.parentPhone,\r\n            address: this.formData.address,\r\n            startDate: this.formData.time_period[0] ? new Date(this.formData.time_period[0]).toISOString() : null,\r\n            endDate: this.formData.time_period[1] ? new Date(this.formData.time_period[1]).toISOString() : null,\r\n            reason: this.formData.reason.trim(),\r\n            emergencyContact: this.formData.emergency_contact || this.formData.emergencyContact,\r\n            emergencyPhone: this.formData.emergency_phone,  // 使用formData中的字段名\r\n            parentOpinion: this.formData.parent_opinion || this.formData.parentOpinion,\r\n            parentAgree: this.formData.parent_agree,  // 将家长同意选项加入请求数据\r\n            counselorStatus: this.formData.counselor_status,\r\n            collegeStatus: this.formData.college_status,\r\n            studentSignature: this.formData.student_signature || this.formData.studentSignature,\r\n            parentSignature: this.formData.parent_signature || this.formData.parentSignature,\r\n            status: this.isEdit ? this.formData.status : 'submitted',\r\n            createTime: new Date(),\r\n            updateTime: new Date(),\r\n            idCardPath: this.formData.id_card_path,\r\n            contractPath: this.formData.contract_path,\r\n            otherFilePath: this.formData.other_file_path\r\n          };\r\n\r\n          // 调试信息\r\n          console.log('Request Data:', requestData)\r\n\r\n          // 调用API\r\n          if (this.isEdit) {\r\n            await updateApplication(requestData)\r\n            this.$message.success('申请已更新')\r\n          } else {\r\n            const response = await createApplication(requestData)\r\n            console.log('API Response:', response)\r\n            this.$message.success('申请已创建')\r\n          }\r\n\r\n          // 重置状态\r\n          this.dialogVisible = false\r\n          this.isEdit = false\r\n          this.resetForm()\r\n          this.$emit('refresh-list')\r\n\r\n        } catch (error) {\r\n          console.error('提交失败:', error)\r\n          this.$message.error('操作失败：' + (error.response?.data?.message || '未知错误'))\r\n        } finally {\r\n          this.submitLoading = false\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .application-container {\r\n    padding: 20px;\r\n    background-color: #f5f7fa;\r\n    min-height: calc(100vh - 40px);\r\n  }\r\n\r\n  .signature-input {\r\n    width: 100%;\r\n    min-height: 40px;\r\n    border: 1px solid #dcdfe6;\r\n    border-radius: 4px;\r\n    padding: 8px;\r\n    transition: border-color 0.2s;\r\n  }\r\n\r\n  .signature-input:focus {\r\n    border-color: #409EFF;\r\n  }\r\n\r\n  .info-card {\r\n    margin-bottom: 25px;\r\n    border: none;\r\n    box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\r\n    transition: box-shadow 0.3s;\r\n  }\r\n\r\n  .info-card:hover {\r\n    box-shadow: 0 4px 16px 0 rgba(0, 0, 0, 0.15);\r\n  }\r\n</style>"],"mappings":"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","ignoreList":[]}]}