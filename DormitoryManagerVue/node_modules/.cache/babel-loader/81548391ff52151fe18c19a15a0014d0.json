{"remainingRequest":"G:\\2025072398-学生系统管理平台参赛总文件夹\\2025072398-02 素材与源码\\学生系统管理平台\\DormitoryManagerVue\\DormitoryManagerVue\\node_modules\\babel-loader\\lib\\index.js!G:\\2025072398-学生系统管理平台参赛总文件夹\\2025072398-02 素材与源码\\学生系统管理平台\\DormitoryManagerVue\\DormitoryManagerVue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!G:\\2025072398-学生系统管理平台参赛总文件夹\\2025072398-02 素材与源码\\学生系统管理平台\\DormitoryManagerVue\\DormitoryManagerVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\2025072398-学生系统管理平台参赛总文件夹\\2025072398-02 素材与源码\\学生系统管理平台\\DormitoryManagerVue\\DormitoryManagerVue\\node_modules\\@jiaminghi\\data-view\\lib\\components\\waterLevelPond\\src\\main.vue?vue&type=script&lang=js","dependencies":[{"path":"G:\\2025072398-学生系统管理平台参赛总文件夹\\2025072398-02 素材与源码\\学生系统管理平台\\DormitoryManagerVue\\DormitoryManagerVue\\node_modules\\@jiaminghi\\data-view\\lib\\components\\waterLevelPond\\src\\main.vue","mtime":1762330430656},{"path":"G:\\2025072398-学生系统管理平台参赛总文件夹\\2025072398-02 素材与源码\\学生系统管理平台\\DormitoryManagerVue\\DormitoryManagerVue\\babel.config.js","mtime":1626253806000},{"path":"G:\\2025072398-学生系统管理平台参赛总文件夹\\2025072398-02 素材与源码\\学生系统管理平台\\DormitoryManagerVue\\DormitoryManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1762330398085},{"path":"G:\\2025072398-学生系统管理平台参赛总文件夹\\2025072398-02 素材与源码\\学生系统管理平台\\DormitoryManagerVue\\DormitoryManagerVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1762330415881},{"path":"G:\\2025072398-学生系统管理平台参赛总文件夹\\2025072398-02 素材与源码\\学生系统管理平台\\DormitoryManagerVue\\DormitoryManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1762330398085},{"path":"G:\\2025072398-学生系统管理平台参赛总文件夹\\2025072398-02 素材与源码\\学生系统管理平台\\DormitoryManagerVue\\DormitoryManagerVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1762330415853}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLm1hcC5qcyI7CmltcG9ydCB7IHV1aWQgfSBmcm9tICcuLi8uLi8uLi91dGlsL2luZGV4JzsKaW1wb3J0IHsgZGVlcE1lcmdlIH0gZnJvbSAnQGppYW1pbmdoaS9jaGFydHMvbGliL3V0aWwvaW5kZXgnOwppbXBvcnQgeyBkZWVwQ2xvbmUgfSBmcm9tICdAamlhbWluZ2hpL2MtcmVuZGVyL2xpYi9wbHVnaW4vdXRpbCc7CmltcG9ydCBDUmVuZGVyIGZyb20gJ0BqaWFtaW5naGkvYy1yZW5kZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0R2V2F0ZXJMZXZlbFBvbmQnLAogIHByb3BzOiB7CiAgICBjb25maWc6IE9iamVjdCwKICAgIGRlZmF1bHQ6ICgpID0+ICh7fSkKICB9LAogIGRhdGEoKSB7CiAgICBjb25zdCBpZCA9IHV1aWQoKTsKICAgIHJldHVybiB7CiAgICAgIGdyYWRpZW50SWQ6IGB3YXRlci1sZXZlbC1wb25kLSR7aWR9YCwKICAgICAgZGVmYXVsdENvbmZpZzogewogICAgICAgIC8qKgogICAgICAgICAqIEBkZXNjcmlwdGlvbiBEYXRhCiAgICAgICAgICogQHR5cGUge0FycmF5PE51bWJlcj59CiAgICAgICAgICogQGRlZmF1bHQgZGF0YSA9IFtdCiAgICAgICAgICogQGV4YW1wbGUgZGF0YSA9IFs2MCwgNDBdCiAgICAgICAgICovCiAgICAgICAgZGF0YTogW10sCiAgICAgICAgLyoqCiAgICAgICAgICogQGRlc2NyaXB0aW9uIFNoYXBlIG9mIHdhbnRlciBsZXZlbCBwb25kCiAgICAgICAgICogQHR5cGUge1N0cmluZ30KICAgICAgICAgKiBAZGVmYXVsdCBzaGFwZSA9ICdyZWN0JwogICAgICAgICAqIEBleGFtcGxlIHNoYXBlID0gJ3JlY3QnIHwgJ3JvdW5kUmVjdCcgfCAncm91bmQnCiAgICAgICAgICovCiAgICAgICAgc2hhcGU6ICdyZWN0JywKICAgICAgICAvKioKICAgICAgICAgKiBAZGVzY3JpcHRpb24gV2F0ZXIgd2F2ZSBudW1iZXIKICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfQogICAgICAgICAqIEBkZWZhdWx0IHdhdmVOdW0gPSAzCiAgICAgICAgICovCiAgICAgICAgd2F2ZU51bTogMywKICAgICAgICAvKioKICAgICAgICAgKiBAZGVzY3JpcHRpb24gV2F0ZXIgd2F2ZSBoZWlnaHQgKHB4KQogICAgICAgICAqIEB0eXBlIHtOdW1iZXJ9CiAgICAgICAgICogQGRlZmF1bHQgd2F2ZUhlaWdodCA9IDQwCiAgICAgICAgICovCiAgICAgICAgd2F2ZUhlaWdodDogNDAsCiAgICAgICAgLyoqCiAgICAgICAgICogQGRlc2NyaXB0aW9uIFdhdmUgb3BhY2l0eQogICAgICAgICAqIEB0eXBlIHtOdW1iZXJ9CiAgICAgICAgICogQGRlZmF1bHQgd2F2ZU9wYWNpdHkgPSAwLjQKICAgICAgICAgKi8KICAgICAgICB3YXZlT3BhY2l0eTogMC40LAogICAgICAgIC8qKgogICAgICAgICAqIEBkZXNjcmlwdGlvbiBDb2xvcnMgKGhleHxyZ2J8cmdiYXxjb2xvciBrZXl3b3JkcykKICAgICAgICAgKiBAdHlwZSB7QXJyYXk8U3RyaW5nPn0KICAgICAgICAgKiBAZGVmYXVsdCBjb2xvcnMgPSBbJyMwMEJBRkYnLCAnIzNERTdDOSddCiAgICAgICAgICogQGV4YW1wbGUgY29sb3JzID0gWycjMDAwJywgJ3JnYigwLCAwLCAwKScsICdyZ2JhKDAsIDAsIDAsIDEpJywgJ3JlZCddCiAgICAgICAgICovCiAgICAgICAgY29sb3JzOiBbJyMzREU3QzknLCAnIzAwQkFGRiddLAogICAgICAgIC8qKgogICAgICAgICAqIEBkZXNjcmlwdGlvbiBGb3JtYXR0ZXIKICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfQogICAgICAgICAqIEBkZWZhdWx0IGZvcm1hdHRlciA9ICd7dmFsdWV9JScKICAgICAgICAgKi8KICAgICAgICBmb3JtYXR0ZXI6ICd7dmFsdWV9JScKICAgICAgfSwKICAgICAgbWVyZ2VkQ29uZmlnOiB7fSwKICAgICAgcmVuZGVyZXI6IG51bGwsCiAgICAgIHN2Z0JvcmRlckdyYWRpZW50OiBbXSwKICAgICAgZGV0YWlsczogJycsCiAgICAgIHdhdmVzOiBbXSwKICAgICAgYW5pbWF0aW9uOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICByYWRpdXMoKSB7CiAgICAgIGNvbnN0IHsKICAgICAgICBzaGFwZQogICAgICB9ID0gdGhpcy5tZXJnZWRDb25maWc7CiAgICAgIGlmIChzaGFwZSA9PT0gJ3JvdW5kJykgcmV0dXJuICc1MCUnOwogICAgICBpZiAoc2hhcGUgPT09ICdyZWN0JykgcmV0dXJuICcwJzsKICAgICAgaWYgKHNoYXBlID09PSAncm91bmRSZWN0JykgcmV0dXJuICcxMHB4JzsKICAgICAgcmV0dXJuICcwJzsKICAgIH0sCiAgICBzaGFwZSgpIHsKICAgICAgY29uc3QgewogICAgICAgIHNoYXBlCiAgICAgIH0gPSB0aGlzLm1lcmdlZENvbmZpZzsKICAgICAgaWYgKCFzaGFwZSkgcmV0dXJuICdyZWN0JzsKICAgICAgcmV0dXJuIHNoYXBlOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGNvbmZpZygpIHsKICAgICAgY29uc3QgewogICAgICAgIGNhbGNEYXRhLAogICAgICAgIHJlbmRlcmVyCiAgICAgIH0gPSB0aGlzOwogICAgICByZW5kZXJlci5kZWxBbGxHcmFwaCgpOwogICAgICB0aGlzLndhdmVzID0gW107CiAgICAgIHNldFRpbWVvdXQoY2FsY0RhdGEsIDApOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaW5pdCgpIHsKICAgICAgY29uc3QgewogICAgICAgIGluaXRSZW5kZXIsCiAgICAgICAgY29uZmlnLAogICAgICAgIGNhbGNEYXRhCiAgICAgIH0gPSB0aGlzOwogICAgICBpbml0UmVuZGVyKCk7CiAgICAgIGlmICghY29uZmlnKSByZXR1cm47CiAgICAgIGNhbGNEYXRhKCk7CiAgICB9LAogICAgaW5pdFJlbmRlcigpIHsKICAgICAgY29uc3QgewogICAgICAgICRyZWZzCiAgICAgIH0gPSB0aGlzOwogICAgICB0aGlzLnJlbmRlcmVyID0gbmV3IENSZW5kZXIoJHJlZnNbJ3dhdGVyLXBvbmQtbGV2ZWwnXSk7CiAgICB9LAogICAgY2FsY0RhdGEoKSB7CiAgICAgIGNvbnN0IHsKICAgICAgICBtZXJnZUNvbmZpZywKICAgICAgICBjYWxjU3ZnQm9yZGVyR3JhZGllbnQsCiAgICAgICAgY2FsY0RldGFpbHMKICAgICAgfSA9IHRoaXM7CiAgICAgIG1lcmdlQ29uZmlnKCk7CiAgICAgIGNhbGNTdmdCb3JkZXJHcmFkaWVudCgpOwogICAgICBjYWxjRGV0YWlscygpOwogICAgICBjb25zdCB7CiAgICAgICAgYWRkV2F2ZSwKICAgICAgICBhbmltYXRpb25XYXZlCiAgICAgIH0gPSB0aGlzOwogICAgICBhZGRXYXZlKCk7CiAgICAgIGFuaW1hdGlvbldhdmUoKTsKICAgIH0sCiAgICBtZXJnZUNvbmZpZygpIHsKICAgICAgY29uc3QgewogICAgICAgIGNvbmZpZywKICAgICAgICBkZWZhdWx0Q29uZmlnCiAgICAgIH0gPSB0aGlzOwogICAgICB0aGlzLm1lcmdlZENvbmZpZyA9IGRlZXBNZXJnZShkZWVwQ2xvbmUoZGVmYXVsdENvbmZpZywgdHJ1ZSksIGNvbmZpZyk7CiAgICB9LAogICAgY2FsY1N2Z0JvcmRlckdyYWRpZW50KCkgewogICAgICBjb25zdCB7CiAgICAgICAgY29sb3JzCiAgICAgIH0gPSB0aGlzLm1lcmdlZENvbmZpZzsKICAgICAgY29uc3QgY29sb3JOdW0gPSBjb2xvcnMubGVuZ3RoOwogICAgICBjb25zdCBjb2xvck9mZnNldEdhcCA9IDEwMCAvIChjb2xvck51bSAtIDEpOwogICAgICB0aGlzLnN2Z0JvcmRlckdyYWRpZW50ID0gY29sb3JzLm1hcCgoYywgaSkgPT4gW2NvbG9yT2Zmc2V0R2FwICogaSwgY10pOwogICAgfSwKICAgIGNhbGNEZXRhaWxzKCkgewogICAgICBjb25zdCB7CiAgICAgICAgZGF0YSwKICAgICAgICBmb3JtYXR0ZXIKICAgICAgfSA9IHRoaXMubWVyZ2VkQ29uZmlnOwogICAgICBpZiAoIWRhdGEubGVuZ3RoKSB7CiAgICAgICAgdGhpcy5kZXRhaWxzID0gJyc7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGNvbnN0IG1heFZhbHVlID0gTWF0aC5tYXgoLi4uZGF0YSk7CiAgICAgIHRoaXMuZGV0YWlscyA9IGZvcm1hdHRlci5yZXBsYWNlKCd7dmFsdWV9JywgbWF4VmFsdWUpOwogICAgfSwKICAgIGFkZFdhdmUoKSB7CiAgICAgIGNvbnN0IHsKICAgICAgICByZW5kZXJlciwKICAgICAgICBnZXRXYXZlU2hhcGVzLAogICAgICAgIGdldFdhdmVTdHlsZSwKICAgICAgICBkcmF3ZWQKICAgICAgfSA9IHRoaXM7CiAgICAgIGNvbnN0IHNoYXBlcyA9IGdldFdhdmVTaGFwZXMoKTsKICAgICAgY29uc3Qgc3R5bGUgPSBnZXRXYXZlU3R5bGUoKTsKICAgICAgdGhpcy53YXZlcyA9IHNoYXBlcy5tYXAoc2hhcGUgPT4gcmVuZGVyZXIuYWRkKHsKICAgICAgICBuYW1lOiAnc21vb3RobGluZScsCiAgICAgICAgYW5pbWF0aW9uRnJhbWU6IDMwMCwKICAgICAgICBzaGFwZSwKICAgICAgICBzdHlsZSwKICAgICAgICBkcmF3ZWQKICAgICAgfSkpOwogICAgfSwKICAgIGdldFdhdmVTaGFwZXMoKSB7CiAgICAgIGNvbnN0IHsKICAgICAgICBtZXJnZWRDb25maWcsCiAgICAgICAgcmVuZGVyZXIsCiAgICAgICAgbWVyZ2VPZmZzZXQKICAgICAgfSA9IHRoaXM7CiAgICAgIGNvbnN0IHsKICAgICAgICB3YXZlTnVtLAogICAgICAgIHdhdmVIZWlnaHQsCiAgICAgICAgZGF0YQogICAgICB9ID0gbWVyZ2VkQ29uZmlnOwogICAgICBjb25zdCBbdywgaF0gPSByZW5kZXJlci5hcmVhOwogICAgICBjb25zdCBwb2ludHNOdW0gPSB3YXZlTnVtICogNCArIDQ7CiAgICAgIGNvbnN0IHBvaW50WEdhcCA9IHcgLyB3YXZlTnVtIC8gMjsKICAgICAgcmV0dXJuIGRhdGEubWFwKHYgPT4gewogICAgICAgIGxldCBwb2ludHMgPSBuZXcgQXJyYXkocG9pbnRzTnVtKS5maWxsKDApLm1hcCgoZm9vLCBqKSA9PiB7CiAgICAgICAgICBjb25zdCB4ID0gdyAtIHBvaW50WEdhcCAqIGo7CiAgICAgICAgICBjb25zdCBzdGFydFkgPSAoMSAtIHYgLyAxMDApICogaDsKICAgICAgICAgIGNvbnN0IHkgPSBqICUgMiA9PT0gMCA/IHN0YXJ0WSA6IHN0YXJ0WSAtIHdhdmVIZWlnaHQ7CiAgICAgICAgICByZXR1cm4gW3gsIHldOwogICAgICAgIH0pOwogICAgICAgIHBvaW50cyA9IHBvaW50cy5tYXAocCA9PiBtZXJnZU9mZnNldChwLCBbcG9pbnRYR2FwICogMiwgMF0pKTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgcG9pbnRzCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9LAogICAgbWVyZ2VPZmZzZXQoW3gsIHldLCBbb3gsIG95XSkgewogICAgICByZXR1cm4gW3ggKyBveCwgeSArIG95XTsKICAgIH0sCiAgICBnZXRXYXZlU3R5bGUoKSB7CiAgICAgIGNvbnN0IHsKICAgICAgICByZW5kZXJlciwKICAgICAgICBtZXJnZWRDb25maWcKICAgICAgfSA9IHRoaXM7CiAgICAgIGNvbnN0IGggPSByZW5kZXJlci5hcmVhWzFdOwogICAgICByZXR1cm4gewogICAgICAgIGdyYWRpZW50Q29sb3I6IG1lcmdlZENvbmZpZy5jb2xvcnMsCiAgICAgICAgZ3JhZGllbnRUeXBlOiAnbGluZWFyJywKICAgICAgICBncmFkaWVudFBhcmFtczogWzAsIDAsIDAsIGhdLAogICAgICAgIGdyYWRpZW50V2l0aDogJ2ZpbGwnLAogICAgICAgIG9wYWNpdHk6IG1lcmdlZENvbmZpZy53YXZlT3BhY2l0eSwKICAgICAgICB0cmFuc2xhdGU6IFswLCAwXQogICAgICB9OwogICAgfSwKICAgIGRyYXdlZCh7CiAgICAgIHNoYXBlOiB7CiAgICAgICAgcG9pbnRzCiAgICAgIH0KICAgIH0sIHsKICAgICAgY3R4LAogICAgICBhcmVhCiAgICB9KSB7CiAgICAgIGNvbnN0IGZpcnN0UG9pbnQgPSBwb2ludHNbMF07CiAgICAgIGNvbnN0IGxhc3RQb2ludCA9IHBvaW50cy5zbGljZSgtMSlbMF07CiAgICAgIGNvbnN0IGggPSBhcmVhWzFdOwogICAgICBjdHgubGluZVRvKGxhc3RQb2ludFswXSwgaCk7CiAgICAgIGN0eC5saW5lVG8oZmlyc3RQb2ludFswXSwgaCk7CiAgICAgIGN0eC5jbG9zZVBhdGgoKTsKICAgICAgY3R4LmZpbGwoKTsKICAgIH0sCiAgICBhc3luYyBhbmltYXRpb25XYXZlKHJlcGVhdCA9IDEpIHsKICAgICAgY29uc3QgewogICAgICAgIHdhdmVzLAogICAgICAgIHJlbmRlcmVyLAogICAgICAgIGFuaW1hdGlvbgogICAgICB9ID0gdGhpczsKICAgICAgaWYgKGFuaW1hdGlvbikgcmV0dXJuOwogICAgICB0aGlzLmFuaW1hdGlvbiA9IHRydWU7CiAgICAgIGNvbnN0IHcgPSByZW5kZXJlci5hcmVhWzBdOwogICAgICB3YXZlcy5mb3JFYWNoKGdyYXBoID0+IHsKICAgICAgICBncmFwaC5hdHRyKCdzdHlsZScsIHsKICAgICAgICAgIHRyYW5zbGF0ZTogWzAsIDBdCiAgICAgICAgfSk7CiAgICAgICAgZ3JhcGguYW5pbWF0aW9uKCdzdHlsZScsIHsKICAgICAgICAgIHRyYW5zbGF0ZTogW3csIDBdCiAgICAgICAgfSwgdHJ1ZSk7CiAgICAgIH0pOwogICAgICBhd2FpdCByZW5kZXJlci5sYXVuY2hBbmltYXRpb24oKTsKICAgICAgdGhpcy5hbmltYXRpb24gPSBmYWxzZTsKICAgICAgaWYgKCFyZW5kZXJlci5ncmFwaHMubGVuZ3RoKSByZXR1cm47CiAgICAgIHRoaXMuYW5pbWF0aW9uV2F2ZShyZXBlYXQgKyAxKTsKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICBjb25zdCB7CiAgICAgIGluaXQKICAgIH0gPSB0aGlzOwogICAgaW5pdCgpOwogIH0sCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIGNvbnN0IHsKICAgICAgcmVuZGVyZXIKICAgIH0gPSB0aGlzOwogICAgcmVuZGVyZXIuZGVsQWxsR3JhcGgoKTsKICAgIHRoaXMud2F2ZXMgPSBbXTsKICB9Cn07"},{"version":3,"names":["uuid","deepMerge","deepClone","CRender","name","props","config","Object","default","data","id","gradientId","defaultConfig","shape","waveNum","waveHeight","waveOpacity","colors","formatter","mergedConfig","renderer","svgBorderGradient","details","waves","animation","computed","radius","watch","calcData","delAllGraph","setTimeout","methods","init","initRender","$refs","mergeConfig","calcSvgBorderGradient","calcDetails","addWave","animationWave","colorNum","length","colorOffsetGap","map","c","i","maxValue","Math","max","replace","getWaveShapes","getWaveStyle","drawed","shapes","style","add","animationFrame","mergeOffset","w","h","area","pointsNum","pointXGap","v","points","Array","fill","foo","j","x","startY","y","p","ox","oy","gradientColor","gradientType","gradientParams","gradientWith","opacity","translate","ctx","firstPoint","lastPoint","slice","lineTo","closePath","repeat","forEach","graph","attr","launchAnimation","graphs","mounted","beforeDestroy"],"sources":["node_modules/@jiaminghi/data-view/lib/components/waterLevelPond/src/main.vue"],"sourcesContent":["<template>\n  <div class=\"dv-water-pond-level\">\n    <svg v-if=\"renderer\">\n      <defs>\n        <linearGradient :id=\"gradientId\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop v-for=\"lc in svgBorderGradient\" :key=\"lc[0]\"\n            :offset=\"lc[0]\"\n            :stop-color=\"lc[1]\" />\n        </linearGradient>\n      </defs>\n\n      <text\n        v-if=\"renderer\"\n        :stroke=\"`url(#${gradientId})`\"\n        :fill=\"`url(#${gradientId})`\"\n        :x=\"renderer.area[0] / 2 + 8\"\n        :y=\"renderer.area[1] / 2 + 8\"\n      >\n        {{ details }}\n      </text>\n\n      <ellipse v-if=\"!shape || shape === 'round'\"\n        :cx=\"renderer.area[0] / 2 + 8\"\n        :cy=\"renderer.area[1] / 2 + 8\"\n        :rx=\"renderer.area[0] / 2 + 5\"\n        :ry=\"renderer.area[1] / 2 + 5\"\n        :stroke=\"`url(#${gradientId})`\" />\n\n      <rect v-else\n        x=\"2\" y=\"2\"\n        :rx=\"shape === 'roundRect' ? 10 : 0\"\n        :ry=\"shape === 'roundRect' ? 10 : 0\"\n        :width=\"renderer.area[0] + 12\"\n        :height=\"renderer.area[1] + 12\"\n        :stroke=\"`url(#${gradientId})`\" />\n    </svg>\n\n    <canvas ref=\"water-pond-level\" :style=\"`border-radius: ${radius};`\" />\n  </div>\n</template>\n\n<script>\nimport { uuid } from '../../../util/index'\n\nimport { deepMerge } from '@jiaminghi/charts/lib/util/index'\n\nimport { deepClone } from '@jiaminghi/c-render/lib/plugin/util'\n\nimport CRender from '@jiaminghi/c-render'\n\nexport default {\n  name: 'DvWaterLevelPond',\n  props: {\n    config: Object,\n    default: () => ({})\n  },\n  data () {\n    const id = uuid()\n    return {\n      gradientId: `water-level-pond-${id}`,\n\n      defaultConfig: {\n        /**\n         * @description Data\n         * @type {Array<Number>}\n         * @default data = []\n         * @example data = [60, 40]\n         */\n        data: [],\n        /**\n         * @description Shape of wanter level pond\n         * @type {String}\n         * @default shape = 'rect'\n         * @example shape = 'rect' | 'roundRect' | 'round'\n         */\n        shape: 'rect',\n        /**\n         * @description Water wave number\n         * @type {Number}\n         * @default waveNum = 3\n         */\n        waveNum: 3,\n        /**\n         * @description Water wave height (px)\n         * @type {Number}\n         * @default waveHeight = 40\n         */\n        waveHeight: 40,\n        /**\n         * @description Wave opacity\n         * @type {Number}\n         * @default waveOpacity = 0.4\n         */\n        waveOpacity: 0.4,\n        /**\n         * @description Colors (hex|rgb|rgba|color keywords)\n         * @type {Array<String>}\n         * @default colors = ['#00BAFF', '#3DE7C9']\n         * @example colors = ['#000', 'rgb(0, 0, 0)', 'rgba(0, 0, 0, 1)', 'red']\n         */\n        colors: ['#3DE7C9', '#00BAFF'],\n        /**\n         * @description Formatter\n         * @type {String}\n         * @default formatter = '{value}%'\n         */\n        formatter: '{value}%'\n      },\n\n      mergedConfig: {},\n\n      renderer: null,\n\n      svgBorderGradient: [],\n\n      details: '',\n\n      waves: [],\n\n      animation: false\n    }\n  },\n  computed: {\n    radius () {\n      const { shape } = this.mergedConfig\n\n      if (shape === 'round') return '50%'\n\n      if (shape === 'rect') return '0'\n\n      if (shape === 'roundRect') return '10px'\n\n      return '0'\n    },\n    shape () {\n      const { shape } = this.mergedConfig\n\n      if (!shape) return 'rect'\n\n      return shape\n    }\n  },\n  watch: {\n    config () {\n      const { calcData, renderer } = this\n\n      renderer.delAllGraph()\n\n      this.waves = []\n\n      setTimeout(calcData, 0)\n    }\n  },\n  methods: {\n    init () {\n      const { initRender, config, calcData } = this\n\n      initRender()\n\n      if (!config) return\n\n      calcData()\n    },\n    initRender () {\n      const { $refs } = this\n\n      this.renderer = new CRender($refs['water-pond-level'])\n    },\n    calcData () {\n      const { mergeConfig, calcSvgBorderGradient, calcDetails } = this\n\n      mergeConfig()\n\n      calcSvgBorderGradient()\n\n      calcDetails()\n\n      const { addWave, animationWave } = this\n\n      addWave()\n\n      animationWave()\n    },\n    mergeConfig () {\n      const { config, defaultConfig } = this\n\n      this.mergedConfig = deepMerge(deepClone(defaultConfig, true), config)\n    },\n    calcSvgBorderGradient () {\n      const { colors } = this.mergedConfig\n\n      const colorNum = colors.length\n\n      const colorOffsetGap = 100 / (colorNum - 1)\n\n      this.svgBorderGradient = colors.map((c, i) => [colorOffsetGap * i, c])\n    },\n    calcDetails () {\n      const { data, formatter } = this.mergedConfig\n\n      if (!data.length) {\n        this.details = ''\n\n        return\n      }\n\n      const maxValue = Math.max(...data)\n\n      this.details = formatter.replace('{value}', maxValue)\n    },\n    addWave () {\n      const { renderer, getWaveShapes, getWaveStyle, drawed } = this\n\n      const shapes = getWaveShapes()\n      const style = getWaveStyle()\n\n      this.waves = shapes.map(shape => renderer.add({\n        name: 'smoothline',\n        animationFrame: 300,\n        shape,\n        style,\n        drawed\n      }))\n    },\n    getWaveShapes () {\n      const { mergedConfig, renderer, mergeOffset } = this\n\n      const { waveNum, waveHeight, data } = mergedConfig\n\n      const [w, h] = renderer.area\n\n      const pointsNum = waveNum * 4 + 4\n\n      const pointXGap = w / waveNum / 2\n\n      return data.map(v => {\n        let points = new Array(pointsNum).fill(0).map((foo, j) => {\n          const x = w - pointXGap * j\n\n          const startY = (1 - v / 100) * h\n\n          const y = j % 2 === 0 ? startY : startY - waveHeight\n\n          return [x, y]\n        })\n\n        points = points.map(p => mergeOffset(p, [pointXGap * 2, 0]))\n\n        return { points }\n      })\n    },\n    mergeOffset ([x, y], [ox, oy]) {\n      return [x + ox, y + oy]\n    },\n    getWaveStyle () {\n      const { renderer, mergedConfig } = this\n\n      const h = renderer.area[1]\n\n      return {\n        gradientColor: mergedConfig.colors,\n        gradientType: 'linear',\n        gradientParams: [0, 0, 0, h],\n        gradientWith: 'fill',\n        opacity: mergedConfig.waveOpacity,\n        translate: [0, 0]\n      }\n    },\n    drawed ({ shape: { points } }, { ctx, area }) {\n      const firstPoint = points[0]\n      const lastPoint = points.slice(-1)[0]\n\n      const h = area[1]\n\n      ctx.lineTo(lastPoint[0], h)\n      ctx.lineTo(firstPoint[0], h)\n\n      ctx.closePath()\n\n      ctx.fill()\n    },\n    async animationWave (repeat = 1) {\n      const { waves, renderer, animation } = this\n\n      if (animation) return\n\n      this.animation = true\n\n      const w = renderer.area[0]\n\n      waves.forEach(graph => {\n        graph.attr('style', { translate: [0, 0] })\n\n        graph.animation('style', {\n          translate: [w, 0]\n        }, true)\n      })\n\n      await renderer.launchAnimation()\n\n      this.animation = false\n\n      if (!renderer.graphs.length) return\n\n      this.animationWave(repeat + 1)\n    }\n  },\n  mounted () {\n    const { init } = this\n\n    init()\n  },\n  beforeDestroy () {\n    const { renderer } = this\n\n    renderer.delAllGraph()\n\n    this.waves = []\n  }\n}\n</script>"],"mappings":"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","ignoreList":[]}]}