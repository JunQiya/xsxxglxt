{"remainingRequest":"G:\\E\\学生宿舍信息管理系统\\DormitoryManagerVue\\node_modules\\thread-loader\\dist\\cjs.js!G:\\E\\学生宿舍信息管理系统\\DormitoryManagerVue\\node_modules\\babel-loader\\lib\\index.js!G:\\E\\学生宿舍信息管理系统\\DormitoryManagerVue\\src\\utils\\request.js","dependencies":[{"path":"G:\\E\\学生宿舍信息管理系统\\DormitoryManagerVue\\src\\utils\\request.js","mtime":1712740387000},{"path":"G:\\E\\学生宿舍信息管理系统\\DormitoryManagerVue\\babel.config.js","mtime":1712740387000},{"path":"G:\\E\\学生宿舍信息管理系统\\DormitoryManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1712740387000},{"path":"G:\\E\\学生宿舍信息管理系统\\DormitoryManagerVue\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1712740387000},{"path":"G:\\E\\学生宿舍信息管理系统\\DormitoryManagerVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1712740387000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgeyBnZXRUb2tlbiwgcmVtb3ZlVG9rZW4gfSBmcm9tICdAL3V0aWxzL2F1dGgnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgeyBNZXNzYWdlLCBNZXNzYWdlQm94IH0gZnJvbSAnZWxlbWVudC11aSc7CmltcG9ydCBzdG9yZSBmcm9tICJAL3N0b3JlIjsKY29uc3Qgc2VydmljZSA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFX0FQSSwKICAvLyDliJvlu7pheGlvc+WunuS+i++8jOmFjee9ruWfuuacrOeahHVybOWSjOi2heaXtuaXtumXtAogIHRpbWVvdXQ6IDEwMDAwCn0pOwoKLy8gcmVxdWVzdOaLpuaIquWZqApzZXJ2aWNlLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShhc3luYyBjb25maWcgPT4gewogIGxldCB0b2tlbiA9IGdldFRva2VuKCk7IC8vIOiOt+WPlnRva2VuCiAgaWYgKHRva2VuKSB7CiAgICBjb25maWcuaGVhZGVyc1snX3V0J10gPSB0b2tlbjsgLy8g5aaC5p6cdG9rZW7lrZjlnKjvvIzlnKjor7fmsYLlpLTkuK3mt7vliqB0b2tlbgogIH0KICByZXR1cm4gY29uZmlnOwp9LCBlcnJvciA9PiB7CiAgY29uc29sZS5sb2coZXJyb3IpOwogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7IC8vIOaKm+WHuumUmeivrwp9KTsKCi8vcmVzcG9uc2Ug5oum5oiq5ZmoCnNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShyZXNwb25zZSA9PiB7CiAgLy8g5aSE55CG5ZON5bqU5pWw5o2uCiAgY29uc3QgcmVzID0gcmVzcG9uc2UuZGF0YTsKICBpZiAocmVzLnN0YXR1c0NvZGUgPT09IDIwMCkgewogICAgLy8g5aaC5p6c54q25oCB56CB5Li6MjAw77yM6L+U5Zue5pWw5o2uCiAgICByZXR1cm4gcmVzOwogIH0gZWxzZSB7CiAgICBpZiAocmVzLnN0YXR1c0NvZGUgPT09IDQwNykgewogICAgICAvLyDlpoLmnpznirbmgIHnoIHkuLo0MDfvvIzlpITnkIbph43mlrDnmbvlvZXpgLvovpEKICAgICAgaWYgKCFzdG9yZS5zdGF0ZS5yZUxvZ2luQ29uZmlybSkgewogICAgICAgIE1lc3NhZ2VCb3guY29uZmlybSgn55m75b2V6L+H5pyfLOivt+mHjeaWsOeZu+W9lScsICfnoa7orqTpgIDlh7onLCB7CiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+mHjeaWsOeZu+W9lScsCiAgICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgIHJlbW92ZVRva2VuKCk7IC8vIOenu+mZpHRva2VuCiAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsgLy8g6YeN5paw5Yqg6L296aG16Z2iCiAgICAgICAgfSk7CiAgICAgICAgc3RvcmUuY29tbWl0KCJTRVRfUkVfTE9HSU5fQ09NRklSTSIpOyAvLyDmj5DkuqTmm7TmlrDph43mlrDnmbvlvZXnoa7orqTnirbmgIEKICAgICAgfSBlbHNlIHsKICAgICAgICBNZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tc2csCiAgICAgICAgICAvLyDmmL7npLrmtojmga8KICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICB9KTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgTWVzc2FnZSh7CiAgICAgICAgbWVzc2FnZTogcmVzLm1zZyB8fCAnRXJyb3InLAogICAgICAgIC8vIOaYvuekuumUmeivr+a2iOaBr+aIlum7mOiupOa2iOaBrwogICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgZHVyYXRpb246IDQgKiAxMDAwIC8vIOaMgee7reaXtumXtAogICAgICB9KTsKICAgIH0KICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEVycm9yKHJlcy5tc2cgfHwgJ0Vycm9yJykpOyAvLyDov5Tlm57kuIDkuKrluKbmnInplJnor6/mtojmga/nmoTop6PmnpDov4fnmoRQcm9taXNlCiAgfQp9LCBlcnJvciA9PiB7CiAgTWVzc2FnZSh7CiAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIHx8ICJFcnJvciIsCiAgICAvLyDmmL7npLrplJnor6/mtojmga/miJbpu5jorqTmtojmga8KICAgIHR5cGU6ICdlcnJvcicsCiAgICBkdXJhdGlvbjogNCAqIDEwMDAgLy8g5oyB57ut5pe26Ze0CiAgfSk7CiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShlcnJvcik7IC8vIOi/lOWbnuS4gOS4quino+aekOi/h+eahFByb21pc2XvvIzluKbmnInplJnor68KfSk7CmV4cG9ydCBkZWZhdWx0IHNlcnZpY2U7IC8vIOWvvOWHumF4aW9z5a6e5L6L"},{"version":3,"names":["getToken","removeToken","axios","Message","MessageBox","store","service","create","baseURL","process","env","VUE_APP_BASE_API","timeout","interceptors","request","use","config","token","headers","error","console","log","Promise","reject","response","res","data","statusCode","state","reLoginConfirm","confirm","confirmButtonText","type","then","location","reload","commit","message","msg","duration","resolve","Error"],"sources":["G:/E/学生宿舍信息管理系统/DormitoryManagerVue/src/utils/request.js"],"sourcesContent":["import { getToken, removeToken } from '@/utils/auth'\nimport axios from 'axios'\nimport { Message, MessageBox } from 'element-ui'\nimport store from \"@/store\";\n\nconst service = axios.create({\n    baseURL: process.env.VUE_APP_BASE_API,  // 创建axios实例，配置基本的url和超时时间\n    timeout: 10000\n})\n\n// request拦截器\nservice.interceptors.request.use(\n    async config => {\n        let token = getToken()  // 获取token\n        if (token) {\n            config.headers['_ut'] = token  // 如果token存在，在请求头中添加token\n        }\n        return config\n    },\n    error => {\n        console.log(error)\n        return Promise.reject(error)  // 抛出错误\n    }\n)\n\n//response 拦截器\nservice.interceptors.response.use(\n    response => {  // 处理响应数据\n        const res = response.data\n        if (res.statusCode === 200) {  // 如果状态码为200，返回数据\n            return res\n        } else {\n            if (res.statusCode === 407) {  // 如果状态码为407，处理重新登录逻辑\n                if (!store.state.reLoginConfirm) {\n                    MessageBox.confirm('登录过期,请重新登录', '确认退出', {\n                        confirmButtonText: '重新登录',\n                        type: 'warning'\n                    }).then(() => {\n                        removeToken()  // 移除token\n                        location.reload()  // 重新加载页面\n                    })\n                    store.commit(\"SET_RE_LOGIN_COMFIRM\")  // 提交更新重新登录确认状态\n                } else {\n                    Message({\n                        message: res.msg,  // 显示消息\n                        type: 'error'\n                    })\n                }\n            } else {\n                Message({\n                    message: res.msg || 'Error',  // 显示错误消息或默认消息\n                    type: 'error',\n                    duration: 4 * 1000  // 持续时间\n                })\n            }\n            return Promise.resolve(new Error(res.msg || 'Error'))  // 返回一个带有错误消息的解析过的Promise\n        }\n    },\n    error => {\n        Message({\n            message: error.message || \"Error\",  // 显示错误消息或默认消息\n            type: 'error',\n            duration: 4 * 1000  // 持续时间\n        })\n        return Promise.resolve(error)  // 返回一个解析过的Promise，带有错误\n    }\n)\n\nexport default service  // 导出axios实例"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,WAAW,QAAQ,cAAc;AACpD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,EAAEC,UAAU,QAAQ,YAAY;AAChD,OAAOC,KAAK,MAAM,SAAS;AAE3B,MAAMC,OAAO,GAAGJ,KAAK,CAACK,MAAM,CAAC;EACzBC,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC,gBAAgB;EAAG;EACxCC,OAAO,EAAE;AACb,CAAC,CAAC;;AAEF;AACAN,OAAO,CAACO,YAAY,CAACC,OAAO,CAACC,GAAG,CAC5B,MAAMC,MAAM,IAAI;EACZ,IAAIC,KAAK,GAAGjB,QAAQ,CAAC,CAAC,EAAE;EACxB,IAAIiB,KAAK,EAAE;IACPD,MAAM,CAACE,OAAO,CAAC,KAAK,CAAC,GAAGD,KAAK,EAAE;EACnC;EACA,OAAOD,MAAM;AACjB,CAAC,EACDG,KAAK,IAAI;EACLC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;EAClB,OAAOG,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC,EAAE;AAClC,CACJ,CAAC;;AAED;AACAb,OAAO,CAACO,YAAY,CAACW,QAAQ,CAACT,GAAG,CAC7BS,QAAQ,IAAI;EAAG;EACX,MAAMC,GAAG,GAAGD,QAAQ,CAACE,IAAI;EACzB,IAAID,GAAG,CAACE,UAAU,KAAK,GAAG,EAAE;IAAG;IAC3B,OAAOF,GAAG;EACd,CAAC,MAAM;IACH,IAAIA,GAAG,CAACE,UAAU,KAAK,GAAG,EAAE;MAAG;MAC3B,IAAI,CAACtB,KAAK,CAACuB,KAAK,CAACC,cAAc,EAAE;QAC7BzB,UAAU,CAAC0B,OAAO,CAAC,YAAY,EAAE,MAAM,EAAE;UACrCC,iBAAiB,EAAE,MAAM;UACzBC,IAAI,EAAE;QACV,CAAC,CAAC,CAACC,IAAI,CAAC,MAAM;UACVhC,WAAW,CAAC,CAAC,EAAE;UACfiC,QAAQ,CAACC,MAAM,CAAC,CAAC,EAAE;QACvB,CAAC,CAAC;QACF9B,KAAK,CAAC+B,MAAM,CAAC,sBAAsB,CAAC,EAAE;MAC1C,CAAC,MAAM;QACHjC,OAAO,CAAC;UACJkC,OAAO,EAAEZ,GAAG,CAACa,GAAG;UAAG;UACnBN,IAAI,EAAE;QACV,CAAC,CAAC;MACN;IACJ,CAAC,MAAM;MACH7B,OAAO,CAAC;QACJkC,OAAO,EAAEZ,GAAG,CAACa,GAAG,IAAI,OAAO;QAAG;QAC9BN,IAAI,EAAE,OAAO;QACbO,QAAQ,EAAE,CAAC,GAAG,IAAI,CAAE;MACxB,CAAC,CAAC;IACN;IACA,OAAOjB,OAAO,CAACkB,OAAO,CAAC,IAAIC,KAAK,CAAChB,GAAG,CAACa,GAAG,IAAI,OAAO,CAAC,CAAC,EAAE;EAC3D;AACJ,CAAC,EACDnB,KAAK,IAAI;EACLhB,OAAO,CAAC;IACJkC,OAAO,EAAElB,KAAK,CAACkB,OAAO,IAAI,OAAO;IAAG;IACpCL,IAAI,EAAE,OAAO;IACbO,QAAQ,EAAE,CAAC,GAAG,IAAI,CAAE;EACxB,CAAC,CAAC;EACF,OAAOjB,OAAO,CAACkB,OAAO,CAACrB,KAAK,CAAC,EAAE;AACnC,CACJ,CAAC;AAED,eAAeb,OAAO,EAAE","ignoreList":[]}]}