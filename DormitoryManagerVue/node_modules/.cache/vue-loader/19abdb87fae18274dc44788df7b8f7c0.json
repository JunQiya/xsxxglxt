{"remainingRequest":"G:\\E\\学生宿舍信息管理系统\\DormitoryManagerVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\E\\学生宿舍信息管理系统\\DormitoryManagerVue\\src\\components\\Breadcrumb\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"G:\\E\\学生宿舍信息管理系统\\DormitoryManagerVue\\src\\components\\Breadcrumb\\index.vue","mtime":1712740387000},{"path":"G:\\E\\学生宿舍信息管理系统\\DormitoryManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1712740387000},{"path":"G:\\E\\学生宿舍信息管理系统\\DormitoryManagerVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1712740387000},{"path":"G:\\E\\学生宿舍信息管理系统\\DormitoryManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1712740387000},{"path":"G:\\E\\学生宿舍信息管理系统\\DormitoryManagerVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1712740387000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgbGV2ZWxMaXN0OiBudWxsLCAgLy8g5a2Y5YKo6Z2i5YyF5bGR5a+86Iiq5YiX6KGoCiAgICAgICAgfTsKICAgIH0sCiAgICB3YXRjaDogewogICAgICAgICRyb3V0ZShyb3V0ZSkgeyAgLy8g55uR5ZCs6Lev55Sx5Y+Y5YyWCiAgICAgICAgICAgIGlmIChyb3V0ZS5wYXRoLnN0YXJ0c1dpdGgoIi9yZWRpcmVjdC8iKSkgeyAgLy8g5aaC5p6c6Lev55Sx6Lev5b6E5LulIi9yZWRpcmVjdC8i5byA5aS05YiZ6L+U5ZueCiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5nZXRCcmVhZGNydW1iKCk7ICAvLyDosIPnlKjojrflj5bpnaLljIXlsZHlr7zoiKrmlrnms5UKICAgICAgICB9LAogICAgfSwKICAgIGNyZWF0ZWQoKSB7CiAgICAgICAgdGhpcy5nZXRCcmVhZGNydW1iKCk7ICAvLyDnu4Tku7bliJvlu7rml7bosIPnlKjojrflj5bpnaLljIXlsZHlr7zoiKrmlrnms5UKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgZ2V0QnJlYWRjcnVtYigpIHsKICAgICAgICAgICAgLy8g5Y+q5pi+56S65YW35pyJbWV0YS50aXRsZeeahOi3r+eUsQogICAgICAgICAgICBsZXQgbWF0Y2hlZCA9IHRoaXMuJHJvdXRlLm1hdGNoZWQuZmlsdGVyKAogICAgICAgICAgICAgICAgKGl0ZW0pID0+IGl0ZW0ubWV0YSAmJiBpdGVtLm1ldGEudGl0bGUKICAgICAgICAgICAgKTsKICAgICAgICAgICAgY29uc3QgZmlyc3QgPSBtYXRjaGVkWzBdOwoKICAgICAgICAgICAgLy8g5aaC5p6c5LiN5piv5Li76aG177yM5YiZ5re75Yqg6aaW6aG16Lev55SxCiAgICAgICAgICAgIGlmICghdGhpcy5pc0Rhc2hib2FyZChmaXJzdCkpIHsKICAgICAgICAgICAgICAgIG1hdGNoZWQgPSBbeyBwYXRoOiAiL2luZGV4IiwgbWV0YTogeyB0aXRsZTogIummlumhtSIgfSB9XS5jb25jYXQoCiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZAogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8g6L+H5ruk5Ye65YW35pyJbWV0YS50aXRsZeS4lG1ldGEuYnJlYWRjcnVtYuS4jeS4umZhbHNl55qE6Lev55Sx77yM5a2Y5YWlbGV2ZWxMaXN0CiAgICAgICAgICAgIHRoaXMubGV2ZWxMaXN0ID0gbWF0Y2hlZC5maWx0ZXIoCiAgICAgICAgICAgICAgICAoaXRlbSkgPT4KICAgICAgICAgICAgICAgICAgICBpdGVtLm1ldGEgJiYKICAgICAgICAgICAgICAgICAgICBpdGVtLm1ldGEudGl0bGUgJiYKICAgICAgICAgICAgICAgICAgICBpdGVtLm1ldGEuYnJlYWRjcnVtYiAhPT0gZmFsc2UKICAgICAgICAgICAgKTsKICAgICAgICB9LAogICAgICAgIGlzRGFzaGJvYXJkKHJvdXRlKSB7CiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSByb3V0ZSAmJiByb3V0ZS5uYW1lOwogICAgICAgICAgICBpZiAoIW5hbWUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gKAogICAgICAgICAgICAgICAgbmFtZS50cmltKCkudG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gImluZGV4Ii50b0xvY2FsZUxvd2VyQ2FzZSgpCiAgICAgICAgICAgICk7CiAgICAgICAgfSwKICAgICAgICBwYXRoQ29tcGlsZShwYXRoKSB7CiAgICAgICAgICAgIGNvbnN0IHsgcGFyYW1zIH0gPSB0aGlzLiRyb3V0ZTsKICAgICAgICAgICAgdmFyIHBhdGhUb1JlZ2V4cCA9IHJlcXVpcmUoInBhdGgtdG8tcmVnZXhwIik7ICAvLyDku47lpJbpg6jlupPlvJXlhaVwYXRoLXRvLXJlZ2V4cAogICAgICAgICAgICB2YXIgdG9QYXRoID0gcGF0aFRvUmVnZXhwLmNvbXBpbGUocGF0aCk7ICAvLyDnvJbor5Hot6/nlLHot6/lvoQKICAgICAgICAgICAgcmV0dXJuIHRvUGF0aChwYXJhbXMpOyAgLy8g6L+U5Zue57yW6K+R5ZCO55qE6Lev5b6ECiAgICAgICAgfSwKICAgICAgICBoYW5kbGVMaW5rKGl0ZW0pIHsKICAgICAgICAgICAgY29uc3QgeyByZWRpcmVjdCwgcGF0aCB9ID0gaXRlbTsKICAgICAgICAgICAgaWYgKHJlZGlyZWN0KSB7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaChyZWRpcmVjdCk7ICAvLyDlpoLmnpzlrZjlnKjph43lrprlkJHot6/lvoTvvIzliJnot7Povazoh7Pph43lrprlkJHot6/lvoQKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh0aGlzLnBhdGhDb21waWxlKHBhdGgpKTsgIC8vIOWQpuWImeagueaNrui3r+eUsei3r+W+hOi3s+i9rAogICAgICAgIH0sCiAgICB9LAp9Owo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/Breadcrumb","sourcesContent":["<template>\n    <!-- 使用 Element UI 的 el-breadcrumb 组件创建面包屑导航 -->\n    <el-breadcrumb class=\"app-breadcrumb\" separator-class=\"el-icon-arrow-right\">\n        <!-- 使用 Vue 的 transition-group 组件管理列表的过渡效果 -->\n        <transition-group name=\"breadcrumb\">\n            <!-- 使用 v-for 指令遍历 levelList 数组，为每个元素创建一个 el-breadcrumb-item 组件 -->\n            <el-breadcrumb-item v-for=\"(item, index) in levelList\" :key=\"item.path\" style=\"font-size: 22px;\">\n                <!-- 如果当前元素是第一个，显示一个图标 -->\n                <i class=\"el-icon-a-011\" v-if=\"index == 0\"></i>\n                <!-- 如果当前元素的 redirect 属性为 'noRedirect' 或者当前元素是最后一个，显示一个 span 元素 -->\n                <span v-if=\"item.redirect === 'noRedirect' ||\n                index === levelList.length - 1\n                \" class=\"no-redirect\"> {{ item.meta.title }}</span>\n                <!-- 否则，显示一个链接，点击链接会触发 handleLink 方法 -->\n                <a v-else @click.prevent=\"handleLink(item)\"> {{\n                item.meta.title\n            }}</a>\n            </el-breadcrumb-item>\n        </transition-group>\n    </el-breadcrumb>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            levelList: null,  // 存储面包屑导航列表\n        };\n    },\n    watch: {\n        $route(route) {  // 监听路由变化\n            if (route.path.startsWith(\"/redirect/\")) {  // 如果路由路径以\"/redirect/\"开头则返回\n                return;\n            }\n            this.getBreadcrumb();  // 调用获取面包屑导航方法\n        },\n    },\n    created() {\n        this.getBreadcrumb();  // 组件创建时调用获取面包屑导航方法\n    },\n    methods: {\n        getBreadcrumb() {\n            // 只显示具有meta.title的路由\n            let matched = this.$route.matched.filter(\n                (item) => item.meta && item.meta.title\n            );\n            const first = matched[0];\n\n            // 如果不是主页，则添加首页路由\n            if (!this.isDashboard(first)) {\n                matched = [{ path: \"/index\", meta: { title: \"首页\" } }].concat(\n                    matched\n                );\n            }\n\n            // 过滤出具有meta.title且meta.breadcrumb不为false的路由，存入levelList\n            this.levelList = matched.filter(\n                (item) =>\n                    item.meta &&\n                    item.meta.title &&\n                    item.meta.breadcrumb !== false\n            );\n        },\n        isDashboard(route) {\n            const name = route && route.name;\n            if (!name) {\n                return false;\n            }\n            return (\n                name.trim().toLocaleLowerCase() === \"index\".toLocaleLowerCase()\n            );\n        },\n        pathCompile(path) {\n            const { params } = this.$route;\n            var pathToRegexp = require(\"path-to-regexp\");  // 从外部库引入path-to-regexp\n            var toPath = pathToRegexp.compile(path);  // 编译路由路径\n            return toPath(params);  // 返回编译后的路径\n        },\n        handleLink(item) {\n            const { redirect, path } = item;\n            if (redirect) {\n                this.$router.push(redirect);  // 如果存在重定向路径，则跳转至重定向路径\n                return;\n            }\n            this.$router.push(this.pathCompile(path));  // 否则根据路由路径跳转\n        },\n    },\n};\n</script>\n\n<style scoped>\n.app-breadcrumb {\n    display: inline-block;\n    font-size: 14px;\n    line-height: 40px;\n    margin-left: 8px;\n}\n\n.no-redirect {\n    color: #97a8be;\n    cursor: text;\n}\n\n.el-breadcrumb__item {\n    height: 40px;\n}\n\n.breadcrumb-enter-active,\n.breadcrumb-leave-active {\n    transition: all 0.5s;\n}\n\n.breadcrumb-enter,\n.breadcrumb-leave-active {\n    opacity: 0;\n    transform: translateX(20px);\n}\n\n.breadcrumb-move {\n    transition: all 0.5s;\n}\n\n.breadcrumb-leave-active {\n    position: absolute;\n}\n</style>\n"]}]}