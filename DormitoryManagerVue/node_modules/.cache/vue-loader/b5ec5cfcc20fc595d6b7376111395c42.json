{"remainingRequest":"G:\\E\\学生宿舍信息管理系统\\DormitoryManagerVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\E\\学生宿舍信息管理系统\\DormitoryManagerVue\\src\\components\\Breadcrumb\\index.vue?vue&type=style&index=0&id=3960c976&prod&scoped=true&lang=css","dependencies":[{"path":"G:\\E\\学生宿舍信息管理系统\\DormitoryManagerVue\\src\\components\\Breadcrumb\\index.vue","mtime":1712740387000},{"path":"G:\\E\\学生宿舍信息管理系统\\DormitoryManagerVue\\node_modules\\css-loader\\dist\\cjs.js","mtime":1712740387000},{"path":"G:\\E\\学生宿舍信息管理系统\\DormitoryManagerVue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1712740387000},{"path":"G:\\E\\学生宿舍信息管理系统\\DormitoryManagerVue\\node_modules\\postcss-loader\\src\\index.js","mtime":1712740387000},{"path":"G:\\E\\学生宿舍信息管理系统\\DormitoryManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1712740387000},{"path":"G:\\E\\学生宿舍信息管理系统\\DormitoryManagerVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1712740387000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5hcHAtYnJlYWRjcnVtYiB7CiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICBmb250LXNpemU6IDE0cHg7CiAgICBsaW5lLWhlaWdodDogNDBweDsKICAgIG1hcmdpbi1sZWZ0OiA4cHg7Cn0KCi5uby1yZWRpcmVjdCB7CiAgICBjb2xvcjogIzk3YThiZTsKICAgIGN1cnNvcjogdGV4dDsKfQoKLmVsLWJyZWFkY3J1bWJfX2l0ZW0gewogICAgaGVpZ2h0OiA0MHB4Owp9CgouYnJlYWRjcnVtYi1lbnRlci1hY3RpdmUsCi5icmVhZGNydW1iLWxlYXZlLWFjdGl2ZSB7CiAgICB0cmFuc2l0aW9uOiBhbGwgMC41czsKfQoKLmJyZWFkY3J1bWItZW50ZXIsCi5icmVhZGNydW1iLWxlYXZlLWFjdGl2ZSB7CiAgICBvcGFjaXR5OiAwOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDIwcHgpOwp9CgouYnJlYWRjcnVtYi1tb3ZlIHsKICAgIHRyYW5zaXRpb246IGFsbCAwLjVzOwp9CgouYnJlYWRjcnVtYi1sZWF2ZS1hY3RpdmUgewogICAgcG9zaXRpb246IGFic29sdXRlOwp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AA2FA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/Breadcrumb","sourcesContent":["<template>\n    <!-- 使用 Element UI 的 el-breadcrumb 组件创建面包屑导航 -->\n    <el-breadcrumb class=\"app-breadcrumb\" separator-class=\"el-icon-arrow-right\">\n        <!-- 使用 Vue 的 transition-group 组件管理列表的过渡效果 -->\n        <transition-group name=\"breadcrumb\">\n            <!-- 使用 v-for 指令遍历 levelList 数组，为每个元素创建一个 el-breadcrumb-item 组件 -->\n            <el-breadcrumb-item v-for=\"(item, index) in levelList\" :key=\"item.path\" style=\"font-size: 22px;\">\n                <!-- 如果当前元素是第一个，显示一个图标 -->\n                <i class=\"el-icon-a-011\" v-if=\"index == 0\"></i>\n                <!-- 如果当前元素的 redirect 属性为 'noRedirect' 或者当前元素是最后一个，显示一个 span 元素 -->\n                <span v-if=\"item.redirect === 'noRedirect' ||\n                index === levelList.length - 1\n                \" class=\"no-redirect\"> {{ item.meta.title }}</span>\n                <!-- 否则，显示一个链接，点击链接会触发 handleLink 方法 -->\n                <a v-else @click.prevent=\"handleLink(item)\"> {{\n                item.meta.title\n            }}</a>\n            </el-breadcrumb-item>\n        </transition-group>\n    </el-breadcrumb>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            levelList: null,  // 存储面包屑导航列表\n        };\n    },\n    watch: {\n        $route(route) {  // 监听路由变化\n            if (route.path.startsWith(\"/redirect/\")) {  // 如果路由路径以\"/redirect/\"开头则返回\n                return;\n            }\n            this.getBreadcrumb();  // 调用获取面包屑导航方法\n        },\n    },\n    created() {\n        this.getBreadcrumb();  // 组件创建时调用获取面包屑导航方法\n    },\n    methods: {\n        getBreadcrumb() {\n            // 只显示具有meta.title的路由\n            let matched = this.$route.matched.filter(\n                (item) => item.meta && item.meta.title\n            );\n            const first = matched[0];\n\n            // 如果不是主页，则添加首页路由\n            if (!this.isDashboard(first)) {\n                matched = [{ path: \"/index\", meta: { title: \"首页\" } }].concat(\n                    matched\n                );\n            }\n\n            // 过滤出具有meta.title且meta.breadcrumb不为false的路由，存入levelList\n            this.levelList = matched.filter(\n                (item) =>\n                    item.meta &&\n                    item.meta.title &&\n                    item.meta.breadcrumb !== false\n            );\n        },\n        isDashboard(route) {\n            const name = route && route.name;\n            if (!name) {\n                return false;\n            }\n            return (\n                name.trim().toLocaleLowerCase() === \"index\".toLocaleLowerCase()\n            );\n        },\n        pathCompile(path) {\n            const { params } = this.$route;\n            var pathToRegexp = require(\"path-to-regexp\");  // 从外部库引入path-to-regexp\n            var toPath = pathToRegexp.compile(path);  // 编译路由路径\n            return toPath(params);  // 返回编译后的路径\n        },\n        handleLink(item) {\n            const { redirect, path } = item;\n            if (redirect) {\n                this.$router.push(redirect);  // 如果存在重定向路径，则跳转至重定向路径\n                return;\n            }\n            this.$router.push(this.pathCompile(path));  // 否则根据路由路径跳转\n        },\n    },\n};\n</script>\n\n<style scoped>\n.app-breadcrumb {\n    display: inline-block;\n    font-size: 14px;\n    line-height: 40px;\n    margin-left: 8px;\n}\n\n.no-redirect {\n    color: #97a8be;\n    cursor: text;\n}\n\n.el-breadcrumb__item {\n    height: 40px;\n}\n\n.breadcrumb-enter-active,\n.breadcrumb-leave-active {\n    transition: all 0.5s;\n}\n\n.breadcrumb-enter,\n.breadcrumb-leave-active {\n    opacity: 0;\n    transform: translateX(20px);\n}\n\n.breadcrumb-move {\n    transition: all 0.5s;\n}\n\n.breadcrumb-leave-active {\n    position: absolute;\n}\n</style>\n"]}]}